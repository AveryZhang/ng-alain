!function(){function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return t(n,e);var o=Object.prototype.toString.call(n).slice(8,-1);"Object"===o&&n.constructor&&(o=n.constructor.name);if("Map"===o||"Set"===o)return Array.from(n);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function i(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{EjGq:function(t,o,r){"use strict";r.r(o),r.d(o,"DelonModule",function(){return ct});var c,a,u,l=r("ofXK"),s=r("M0ag"),b=r("tyNb"),f=r("atJ9"),p=r("fXoL"),h=r("Ac7g"),d=r("B+r4"),m=r("JA5x"),g=r("OzZK"),z=r("RwU8"),v=r("C2AL"),T=((c=function(){function n(t,o){e(this,n),this.aclSrv=t,this.menuSrv=o,this.full=!0,this.roleA="",this.roleB=""}return i(n,[{key:"reMenu",value:function(){this.menuSrv.resume()}},{key:"toggleFull",value:function(){this.full=!this.full,this.aclSrv.setFull(this.full),this.reMenu()}},{key:"toggleRoleA",value:function(){this.full=!1,this.roleA="role-a"===this.roleA?"":"role-a",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleA]),this.reMenu()}},{key:"toggleRoleB",value:function(){this.full=!1,this.roleB="role-b"===this.roleB?"":"role-b",this.aclSrv.setFull(this.full),this.aclSrv.setRole([this.roleB]),this.reMenu()}},{key:"data",get:function(){return this.aclSrv.data}}]),n}()).\u0275fac=function(n){return new(n||c)(p.Ob(f.c),p.Ob(h.i))},c.\u0275cmp=p.Ib({type:c,selectors:[["app-acl"]],decls:32,vars:14,consts:[[1,"alain-default__content-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u6309\u94ae\u7c92\u5ea6"],["nz-button","",3,"acl"],["nz-button","",1,"ml-sm",3,"acl"],["nzTitle","\u5168\u91cf"],["nz-button","",3,"click"],[1,"pt-md"],["nzTitle","\u89d2\u8272[role-a]"],["nzTitle","\u89d2\u8272[role-b]"]],template:function(n,t){1&n&&(p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2," ACL \u8bbf\u95ee\u63a7\u5236 "),p.Ub(3,"small"),p.Nc(4,"\u6ce8\u610f\u89c2\u5bdf\u5de6\u8fb9\u7684\u83dc\u5355\uff1bACLService\u63d0\u4f9b\u4e00\u4e2a\u5b8c\u6574\u7684\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236\u7684\u670d\u52a1\uff0c\u82e5\u9700\u8981\u652f\u6301\u8def\u7531\u5b88\u536b\uff0c\u8bf7\u914d\u5408ACLService\u4e0eRoute Guard\u914d\u5408\u7b80\u4fbf\u5b9e\u73b0\u3002"),p.Tb(),p.Tb(),p.Tb(),p.Ub(5,"div",1),p.Ub(6,"div",2),p.Ub(7,"nz-card",3),p.Nc(8),p.gc(9,"json"),p.Ub(10,"button",4),p.Nc(11,"role-a"),p.Tb(),p.Ub(12,"button",5),p.Nc(13,"role-b"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(14,"div",1),p.Ub(15,"div",2),p.Ub(16,"nz-card",6),p.Ub(17,"button",7),p.bc("click",function(){return t.toggleFull()}),p.Ub(18,"span"),p.Nc(19),p.Tb(),p.Tb(),p.Ub(20,"p",8),p.Nc(21,"\u5168\u91cf\u7c7b\u6307\u7cfb\u7edf\u7ba1\u7406\u5458\u89d2\u8272\uff0c\u65e0\u4efb\u4f55\u53d7\u9650\u3002"),p.Tb(),p.Tb(),p.Tb(),p.Ub(22,"div",2),p.Ub(23,"nz-card",9),p.Ub(24,"button",7),p.bc("click",function(){return t.toggleRoleA()}),p.Ub(25,"span"),p.Nc(26),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(27,"div",2),p.Ub(28,"nz-card",10),p.Ub(29,"button",7),p.bc("click",function(){return t.toggleRoleB()}),p.Ub(30,"span"),p.Nc(31),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&n&&(p.Ab(5),p.nc("nzGutter",8),p.Ab(1),p.nc("nzSpan",24),p.Ab(2),p.Pc(" ACL\u539f\u59cb\u6570\u636e\uff1a",p.hc(9,12,t.data)," "),p.Ab(2),p.nc("acl","role-a"),p.Ab(2),p.nc("acl","role-b"),p.Ab(2),p.nc("nzGutter",8),p.Ab(1),p.nc("nzSpan",8),p.Ab(4),p.Pc("",t.full?"\u79bb\u5f00":"\u8bbe\u7f6e","\u6743\u9650"),p.Ab(3),p.nc("nzSpan",8),p.Ab(4),p.Pc("",t.roleA.length>0?"\u79bb\u5f00":"\u8bbe\u7f6e","\u6743\u9650"),p.Ab(1),p.nc("nzSpan",8),p.Ab(4),p.Pc("",t.roleB.length>0?"\u79bb\u5f00":"\u8bbe\u7f6e","\u6743\u9650"))},directives:[d.c,d.a,m.a,g.a,z.a,v.a,f.a],pipes:[l.i],encapsulation:2}),c),y=r("tk/3"),U=r("RY2A"),A=r("Ctv7"),k=r("HDdC"),N=r("LRne"),M=r("2Vo4"),S=r("vkgz"),w=r("lJxs"),O=r("nLfN"),_=new p.q("DC_STORE_STORAGE_TOKEN",{providedIn:"root",factory:function(){return new x(Object(p.V)(O.a))}}),x=function(){function n(t){e(this,n),this.platform=t}return i(n,[{key:"get",value:function(n){return this.platform.isBrowser&&JSON.parse(localStorage.getItem(n)||"null")||null}},{key:"set",value:function(n,t){return!this.platform.isBrowser||(localStorage.setItem(n,JSON.stringify(t)),!0)}},{key:"remove",value:function(n){this.platform.isBrowser&&localStorage.removeItem(n)}}]),n}(),C=((a=function(){function n(t,o,i){e(this,n),this.store=o,this.http=i,this.memory=new Map,this.notifyBuffer=new Map,this.meta=new Set,this.freqTick=3e3,this.cog=t.merge("cache",{mode:"promise",reName:"",prefix:"",meta_key:"__cache_meta"}),this.loadMeta(),this.startExpireNotify()}return i(n,[{key:"deepGet",value:function(n,t,e){if(!n)return e;if(t.length<=1){var o=t.length?n[t[0]]:n;return void 0===o?e:o}return t.reduce(function(n,t){return n[t]},n)||e}},{key:"pushMeta",value:function(n){this.meta.has(n)||(this.meta.add(n),this.saveMeta())}},{key:"removeMeta",value:function(n){this.meta.has(n)&&(this.meta.delete(n),this.saveMeta())}},{key:"loadMeta",value:function(){var n=this,t=this.store.get(this.cog.meta_key);t&&t.v&&t.v.forEach(function(t){return n.meta.add(t)})}},{key:"saveMeta",value:function(){var n=[];this.meta.forEach(function(t){return n.push(t)}),this.store.set(this.cog.meta_key,{v:n,e:0})}},{key:"getMeta",value:function(){return this.meta}},{key:"set",value:function(n,t){var e=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=0,r=this.cog,c=r.type,a=r.expire;if((o=Object.assign({type:c,expire:a},o)).expire&&(i=Object(A.a)(new Date,o.expire).valueOf()),t instanceof k.a)return t.pipe(Object(S.a)(function(t){e.save(o.type,n,{v:t,e:i})}));this.save(o.type,n,{v:t,e:i})}},{key:"save",value:function(n,t,e){"m"===n?this.memory.set(t,e):(this.store.set(this.cog.prefix+t,e),this.pushMeta(t)),this.runNotify(t,"set")}},{key:"get",value:function(n){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="none"!==e.mode&&"promise"===this.cog.mode,i=this.memory.has(n)?this.memory.get(n):this.store.get(this.cog.prefix+n);return!i||i.e&&i.e>0&&i.e<(new Date).valueOf()?o?this.http.get(n).pipe(Object(w.a)(function(n){return t.deepGet(n,t.cog.reName,null)}),Object(S.a)(function(o){return t.set(n,o,{type:e.type,expire:e.expire})})):null:o?Object(N.a)(i.v):i.v}},{key:"getNone",value:function(n){return this.get(n,{mode:"none"})}},{key:"tryGet",value:function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getNone(n);return null===o?t instanceof k.a?this.set(n,t,e):(this.set(n,t,e),t):Object(N.a)(o)}},{key:"has",value:function(n){return this.memory.has(n)||this.meta.has(n)}},{key:"_remove",value:function(n,t){t&&this.runNotify(n,"remove"),this.memory.has(n)?this.memory.delete(n):(this.store.remove(this.cog.prefix+n),this.removeMeta(n))}},{key:"remove",value:function(n){this._remove(n,!0)}},{key:"clear",value:function(){var n=this;this.notifyBuffer.forEach(function(t,e){return n.runNotify(e,"remove")}),this.memory.clear(),this.meta.forEach(function(t){return n.store.remove(n.cog.prefix+t)})}},{key:"startExpireNotify",value:function(){this.checkExpireNotify(),this.runExpireNotify()}},{key:"runExpireNotify",value:function(){var n=this;this.freqTime=setTimeout(function(){n.checkExpireNotify(),n.runExpireNotify()},this.freqTick)}},{key:"checkExpireNotify",value:function(){var n=this,t=[];this.notifyBuffer.forEach(function(e,o){n.has(o)&&null===n.getNone(o)&&t.push(o)}),t.forEach(function(t){n.runNotify(t,"expire"),n._remove(t,!1)})}},{key:"abortExpireNotify",value:function(){clearTimeout(this.freqTime)}},{key:"runNotify",value:function(n,t){this.notifyBuffer.has(n)&&this.notifyBuffer.get(n).next({type:t,value:this.getNone(n)})}},{key:"notify",value:function(n){if(!this.notifyBuffer.has(n)){var t=new M.a(this.getNone(n));this.notifyBuffer.set(n,t)}return this.notifyBuffer.get(n).asObservable()}},{key:"cancelNotify",value:function(n){this.notifyBuffer.has(n)&&(this.notifyBuffer.get(n).unsubscribe(),this.notifyBuffer.delete(n))}},{key:"hasNotify",value:function(n){return this.notifyBuffer.has(n)}},{key:"clearNotify",value:function(){this.notifyBuffer.forEach(function(n){return n.unsubscribe()}),this.notifyBuffer.clear()}},{key:"ngOnDestroy",value:function(){this.memory.clear(),this.abortExpireNotify(),this.clearNotify()}},{key:"freq",set:function(n){this.freqTick=Math.max(20,n),this.abortExpireNotify(),this.startExpireNotify()}}]),n}()).\u0275fac=function(n){return new(n||a)(p.Yb(U.b),p.Yb(_),p.Yb(y.c))},a.\u0275prov=Object(p.Kb)({factory:function(){return new a(Object(p.Yb)(U.b),Object(p.Yb)(_),Object(p.Yb)(y.c))},token:a,providedIn:"root"}),a),E=r("PScX"),j=((u=function(){function n(t,o){e(this,n),this.cache=t,this.msg=o,this.KEY="user"}return i(n,[{key:"set",value:function(){this.cache.set(this.KEY,+new Date)}},{key:"get",value:function(){this.msg.success(this.cache.getNone(this.KEY))}}]),n}()).\u0275fac=function(n){return new(n||u)(p.Ob(C),p.Ob(E.e))},u.\u0275cmp=p.Ib({type:u,selectors:[["app-cache"]],decls:10,vars:0,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/cache","target","_blank"],["nzTitle","Service"],["nz-button","",3,"click"],["nz-button","",1,"ml-sm",3,"click"]],template:function(n,t){1&n&&(p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2," Cache \u7f13\u5b58, "),p.Ub(3,"a",1),p.Nc(4,"Document"),p.Tb(),p.Tb(),p.Tb(),p.Ub(5,"nz-card",2),p.Ub(6,"button",3),p.bc("click",function(){return t.set()}),p.Nc(7,"\u8bbe\u7f6e"),p.Tb(),p.Ub(8,"button",4),p.bc("click",function(){return t.get()}),p.Nc(9,"\u83b7\u53d6"),p.Tb(),p.Tb())},directives:[m.a,g.a,z.a,v.a],encapsulation:2}),u),P=r("Ah5K");function L(n,t){if(1&n&&(p.Ub(0,"button",3),p.Nc(1),p.Tb()),2&n){var e=t.$implicit,o=p.fc();p.pc("http-url","assets/tmp/demo",e,""),p.nc("http-data",o.data),p.Ab(1),p.Pc(" ",e," ")}}var I,D,R,q,B,Y,G,F,V=((I=function n(){e(this,n),this.fileTypes=[".xlsx",".docx",".pptx",".pdf"],this.data={otherdata:1,time:new Date}}).\u0275fac=function(n){return new(n||I)},I.\u0275cmp=p.Ib({type:I,selectors:[["app-down-file"]],decls:5,vars:1,consts:[[1,"alain-default__content-title"],["nzTitle","DEMO"],["nz-button","","class","mr-sm","down-file","","file-name","demo\u4e2d\u6587",3,"http-data","http-url",4,"ngFor","ngForOf"],["nz-button","","down-file","","file-name","demo\u4e2d\u6587",1,"mr-sm",3,"http-data","http-url"]],template:function(n,t){1&n&&(p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2,"Download a file"),p.Tb(),p.Tb(),p.Ub(3,"nz-card",1),p.Lc(4,L,2,3,"button",2),p.Tb()),2&n&&(p.Ab(4),p.nc("ngForOf",t.fileTypes))},directives:[m.a,l.n,g.a,z.a,v.a,P.a],encapsulation:2}),I),J=r("SdXu"),K=r("ok2U"),Z=r("DGaY"),H=function(n){return{params:n}},X=((q=function n(){e(this,n),this.params={},this.url="/user",this.searchSchema={properties:{no:{type:"string",title:"\u7f16\u53f7"}}},this.columns=[{title:"\u7f16\u53f7",index:"no"},{title:"\u8c03\u7528\u6b21\u6570",type:"number",index:"callNo"},{title:"\u5934\u50cf",type:"img",width:"50px",index:"avatar"},{title:"\u65f6\u95f4",type:"date",index:"updatedAt"}]}).\u0275fac=function(n){return new(n||q)},q.\u0275cmp=p.Ib({type:q,selectors:[["app-delon-form"]],decls:5,vars:8,consts:[[3,"title"],["mode","search",3,"schema","formData","formSubmit","formReset"],[3,"data","columns","req"],["st",""]],template:function(n,t){if(1&n){var e=p.Vb();p.Pb(0,"page-header",0),p.Ub(1,"nz-card"),p.Ub(2,"sf",1),p.bc("formSubmit",function(n){return p.Ac(e),p.xc(4).reset(n)})("formReset",function(){return p.Ac(e),p.xc(4).reset(t.params)}),p.Tb(),p.Pb(3,"st",2,3),p.Tb()}2&n&&(p.nc("title","Page Name"),p.Ab(2),p.nc("schema",t.searchSchema)("formData",t.params),p.Ab(1),p.nc("data",t.url)("columns",t.columns)("req",p.rc(6,H,t.params)))},directives:[J.a,m.a,K.b,Z.a],encapsulation:2}),q),$=((R=function n(){e(this,n)}).\u0275fac=function(n){return new(n||R)},R.\u0275cmp=p.Ib({type:R,selectors:[["app-guard-admin"]],decls:2,vars:0,template:function(n,t){1&n&&(p.Ub(0,"p"),p.Nc(1,"\u8fd9\u662f\u4e00\u4e2aadmin\u9875\u9762"),p.Tb())},encapsulation:2}),R),W=((D=function n(){e(this,n)}).\u0275fac=function(n){return new(n||D)},D.\u0275cmp=p.Ib({type:D,selectors:[["app-guard-auth"]],decls:2,vars:0,template:function(n,t){1&n&&(p.Ub(0,"p"),p.Nc(1,"\u8fd9\u662f\u4e00\u4e2auser1\u9875\u9762"),p.Tb())},encapsulation:2}),D),Q=r("dEAy"),nn=((B=function(){function n(t){e(this,n),this.confirmSrv=t}return i(n,[{key:"canDeactivate",value:function(n,t,e,o){var i=this;return new k.a(function(n){i.confirmSrv.confirm({nzTitle:"\u786e\u8ba4\u8981\u79bb\u5f00\u5417\uff1f",nzContent:"\u4f60\u5df2\u7ecf\u586b\u5199\u4e86\u90e8\u5206\u8868\u5355\u79bb\u5f00\u4f1a\u653e\u5f03\u5df2\u7ecf\u586b\u5199\u7684\u5185\u5bb9\u3002",nzOkText:"\u79bb\u5f00",nzCancelText:"\u53d6\u6d88",nzOnOk:function(){n.next(!0),n.complete()},nzOnCancel:function(){n.next(!1),n.complete()}})})}}]),n}()).\u0275fac=function(n){return new(n||B)(p.Yb(Q.c))},B.\u0275prov=p.Kb({token:B,factory:B.\u0275fac}),B),tn=function(){return["/delon/guard/leave"]},en=function(){return["/delon/guard/auth"]},on=function(){return["/delon/guard/admin"]},rn=((Y=function(){function n(t,o,i){e(this,n),this.aclSrv=t,this.menuSrv=o,this.router=i}return i(n,[{key:"setRole",value:function(n){this.aclSrv.setFull("boolean"==typeof n&&n),this.aclSrv.set({role:[n]}),this.menuSrv.resume(),this.router.navigate(["/delon/guard"])}},{key:"data",get:function(){return this.aclSrv.data}}]),n}()).\u0275fac=function(n){return new(n||Y)(p.Ob(f.c),p.Ob(h.i),p.Ob(b.l))},Y.\u0275cmp=p.Ib({type:Y,selectors:[["app-guard"]],decls:28,vars:9,consts:[[1,"alain-default__content-title"],["nz-button","",3,"routerLink"],[1,"ml-sm"],["nz-button","",3,"click"],[1,"mb-lg"]],template:function(n,t){1&n&&(p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2," \u8def\u7531\u5b88\u536b "),p.Tb(),p.Tb(),p.Ub(3,"nz-button-group"),p.Ub(4,"button",1),p.Ub(5,"span"),p.Nc(6,"\u79bb\u5f00\u786e\u8ba4\u9875"),p.Tb(),p.Tb(),p.Tb(),p.Ub(7,"nz-button-group",2),p.Ub(8,"button",3),p.bc("click",function(){return t.setRole(!0)}),p.Ub(9,"span"),p.Nc(10,"\u8bbe\u7f6e\u7ba1\u7406\u5458"),p.Tb(),p.Tb(),p.Ub(11,"button",3),p.bc("click",function(){return t.setRole("user1")}),p.Ub(12,"span"),p.Nc(13,"\u8bbe\u7f6e\u5458\u5de51"),p.Tb(),p.Tb(),p.Ub(14,"button",3),p.bc("click",function(){return t.setRole("user2")}),p.Ub(15,"span"),p.Nc(16,"\u8bbe\u7f6e\u5458\u5de52"),p.Tb(),p.Tb(),p.Tb(),p.Ub(17,"nz-button-group",2),p.Ub(18,"button",1),p.Ub(19,"span"),p.Nc(20,"\u9700\u8981user1"),p.Tb(),p.Tb(),p.Ub(21,"button",1),p.Ub(22,"span"),p.Nc(23,"\u9700\u8981\u7ba1\u7406\u5458"),p.Tb(),p.Tb(),p.Tb(),p.Ub(24,"p",4),p.Nc(25),p.gc(26,"json"),p.Tb(),p.Pb(27,"router-outlet")),2&n&&(p.Ab(4),p.nc("routerLink",p.qc(6,tn)),p.Ab(14),p.nc("routerLink",p.qc(7,en)),p.Ab(3),p.nc("routerLink",p.qc(8,on)),p.Ab(4),p.Pc("\u5f53\u524dACL\u4fe1\u606f\uff1a",p.hc(26,4,t.data),""))},directives:[g.b,v.a,g.a,z.a,b.m,b.p],pipes:[l.i],encapsulation:2}),Y),cn=function(){return["/logics/guard"]},an=((G=function n(){e(this,n)}).\u0275fac=function(n){return new(n||G)},G.\u0275cmp=p.Ib({type:G,selectors:[["app-guard-leave"]],decls:5,vars:3,consts:[["nz-button","",3,"nzType","routerLink"]],template:function(n,t){1&n&&(p.Ub(0,"p"),p.Nc(1,"\u79bb\u5f00\u65f6\u9700\u8981\u786e\u8ba4"),p.Tb(),p.Ub(2,"button",0),p.Ub(3,"span"),p.Nc(4,"\u6211\u8981\u79bb\u5f00"),p.Tb(),p.Tb()),2&n&&(p.Ab(2),p.nc("nzType","primary")("routerLink",p.qc(2,cn)))},directives:[g.a,z.a,v.a,b.m],encapsulation:2}),G),un=r("XNiG"),ln=((F=function(){function t(n,o){e(this,t),this.scriptSrv=n,this.pending=!1,this._lodop=null,this._init=new un.a,this._events=new un.a,this.printBuffer=[],this.defaultConfig=o.merge("lodop",{url:"//localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100}),this.cog=this.defaultConfig}return i(t,[{key:"check",value:function(){if(!this._lodop)throw new Error("\u8bf7\u52a1\u5fc5\u5148\u8c03\u7528 lodop \u83b7\u53d6\u5bf9\u8c61")}},{key:"request",value:function(){var n=this;this.pending=!0;var t=this.cog.checkMaxCount,e=function(t,e){n._init.next({ok:"ok"===t,status:t,error:e,lodop:n._lodop})},o=function o(){if(--t,n._lodop.webskt&&1===n._lodop.webskt.readyState)e("ok");else{if(t<0)return void e("check-limit");setTimeout(function(){return o()},100)}};this.scriptSrv.loadScript("".concat(this.cog.url,"?name=").concat(this.cog.name)).then(function(t){if("ok"!==t.status)return n.pending=!1,void e("script-load-error",t[0]);var i=window;i.hasOwnProperty(n.cog.name)&&(n._lodop=i[n.cog.name]),null!==n._lodop?(n._lodop.SET_LICENSES(n.cog.companyName,n.cog.license,n.cog.licenseA,n.cog.licenseB),o()):e("load-variable-name-error",{name:n.cog.name})})}},{key:"reset",value:function(){this._lodop=null,this.pending=!1,this.request()}},{key:"attachCode",value:function(n,t,e){var o=this;this.check(),e||(e=/LODOP\.([^(]+)\(([^\n]+)?\);/i),n.split("\n").forEach(function(n){var i=e.exec(n.trim());if(i){var r=o._lodop[i[1]];if(r){var c=null;try{c=new Function("return [".concat(i[2],"]"))()}catch(u){}if(null!=c&&Array.isArray(c)&&t)for(var a=0;a<c.length;a++)"string"==typeof c[a]&&(c[a]=c[a].replace(/{{(.*?)}}/g,function(n,e){return t[e.trim()]||""}));r.apply(o._lodop,c)}}})}},{key:"design",value:function(){var n=this;this.check();var t=this._lodop.PRINT_DESIGN();return new Promise(function(e){n._lodop.On_Return=function(o,i){t===o&&(n._lodop.On_Return=null,e(""+i))}})}},{key:"printDo",value:function(){var n=this,t=this.printBuffer.shift();if(t){this.attachCode(t.code,t.item,t.parser);var e=this._lodop.PRINT();this._lodop.On_Return=function(o,i){e===o&&(n._lodop.On_Return=null,n._events.next(Object.assign({ok:!0===i,error:!0===i?null:i},t)),n.printDo())}}}},{key:"print",value:function(t,e,o){var i;this.check(),e&&(i=this.printBuffer).push.apply(i,n((Array.isArray(e)?e:[e]).map(function(n){return{code:t,parser:o,item:n}}))),this.printDo()}},{key:"ngOnDestroy",value:function(){this._init.unsubscribe(),this._events.unsubscribe()}},{key:"cog",get:function(){return this._cog},set:function(n){this._cog=Object.assign(Object.assign({},this.defaultConfig),n)}},{key:"events",get:function(){return this._events.asObservable()}},{key:"lodop",get:function(){return this._lodop?Object(N.a)({ok:!0,lodop:this._lodop}):(this.pending||this.request(),this._init.asObservable())}},{key:"printer",get:function(){this.check();for(var n=[],t=this._lodop.GET_PRINTER_COUNT(),e=0;e<t;e++)n.push(this._lodop.GET_PRINTER_NAME(e));return n}}]),t}()).\u0275fac=function(n){return new(n||F)(p.Yb(U.f),p.Yb(U.b))},F.\u0275prov=Object(p.Kb)({factory:function(){return new F(Object(p.Yb)(U.f),Object(p.Yb)(U.b))},token:F,providedIn:"root"}),F),sn=r("bNXi"),bn=r("Wfee"),fn=r("3Pt+"),pn=r("ocnv"),hn=r("PTRe"),dn=r("zAKX");function mn(n,t){1&n&&(p.Nc(0," \u8bf7\u5148\u4e0b\u8f7d "),p.Ub(1,"a",6),p.Nc(2,"Lodop\u63d2\u4ef6"),p.Tb(),p.Nc(3,"\u3002 "))}function gn(n,t){if(1&n&&(p.Ub(0,"nz-alert",4),p.Lc(1,mn,4,0,"ng-template",null,5,p.Mc),p.Tb()),2&n){var e=p.xc(2);p.nc("nzType","warning")("nzMessage",e)}}function zn(n,t){if(1&n&&p.Pb(0,"nz-option",20),2&n){var e=t.$implicit;p.nc("nzLabel",e)("nzValue",e)}}function vn(n,t){if(1&n&&p.Pb(0,"nz-option",20),2&n){var e=t.$implicit;p.nc("nzLabel",e)("nzValue",e)}}function Tn(n,t){if(1&n){var e=p.Vb();p.Ub(0,"form",7),p.Ub(1,"nz-form-item",8),p.Ub(2,"nz-form-label",9),p.Nc(3,"\u6253\u5370\u670d\u52a1\u5668"),p.Tb(),p.Ub(4,"nz-form-control",9),p.Ub(5,"nz-input-group"),p.Ub(6,"div",10),p.Ub(7,"input",11),p.bc("ngModelChange",function(n){return p.Ac(e),p.fc().cog.url=n}),p.Tb(),p.Tb(),p.Ub(8,"div",10),p.Ub(9,"button",12),p.bc("click",function(){return p.Ac(e),p.fc().reload(null)}),p.Nc(10,"\u91cd\u65b0\u52a0\u8f7d\u6253\u5370\u673a"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(11,"nz-form-item",8),p.Ub(12,"nz-form-label",9),p.Nc(13,"\u6253\u5370\u673a"),p.Tb(),p.Ub(14,"nz-form-control",9),p.Ub(15,"nz-select",13),p.bc("ngModelChange",function(n){return p.Ac(e),p.fc().cog.printer=n})("ngModelChange",function(n){return p.Ac(e),p.fc().changePinter(n)}),p.Lc(16,zn,1,2,"nz-option",14),p.Tb(),p.Tb(),p.Tb(),p.Ub(17,"nz-form-item",8),p.Ub(18,"nz-form-label",9),p.Nc(19,"\u7eb8\u5f20\u7c7b\u578b"),p.Tb(),p.Ub(20,"nz-form-control",9),p.Ub(21,"nz-select",15),p.bc("ngModelChange",function(n){return p.Ac(e),p.fc().cog.paper=n}),p.Lc(22,vn,1,2,"nz-option",14),p.Tb(),p.Tb(),p.Tb(),p.Ub(23,"nz-form-item",8),p.Ub(24,"nz-form-label",9),p.Nc(25,"\u6253\u5370\u5185\u5bb9"),p.Tb(),p.Ub(26,"nz-form-control",9),p.Ub(27,"textarea",16),p.bc("ngModelChange",function(n){return p.Ac(e),p.fc().cog.html=n}),p.Tb(),p.Ub(28,"div",17),p.Nc(29,"\u4ec5\u9650HTML\uff0c\u66f4\u591a\u7c7b\u578b\u652f\u6301\u8bf7\u53c2\u8003\u5b98\u7f51"),p.Tb(),p.Tb(),p.Tb(),p.Ub(30,"nz-form-item",8),p.Ub(31,"nz-form-control",18),p.Ub(32,"button",19),p.bc("click",function(){return p.Ac(e),p.fc().print(!0)}),p.Nc(33,"\u6253\u5370\u9884\u89c8"),p.Tb(),p.Ub(34,"button",19),p.bc("click",function(){return p.Ac(e),p.fc().print()}),p.Nc(35,"\u76f4\u63a5\u6253\u5370"),p.Tb(),p.Tb(),p.Tb(),p.Tb()}if(2&n){var o=p.fc();p.Ab(2),p.nc("nzSm",6),p.Ab(2),p.nc("nzSm",18),p.Ab(2),p.nc("nzSpan",16),p.Ab(1),p.nc("ngModel",o.cog.url),p.Ab(1),p.nc("nzSpan",8),p.Ab(4),p.nc("nzSm",6),p.Ab(2),p.nc("nzSm",18),p.Ab(1),p.nc("ngModel",o.cog.printer),p.Ab(1),p.nc("ngForOf",o.pinters),p.Ab(2),p.nc("nzSm",6),p.Ab(2),p.nc("nzSm",18),p.Ab(1),p.nc("ngModel",o.cog.paper),p.Ab(1),p.nc("ngForOf",o.papers),p.Ab(2),p.nc("nzSm",6),p.Ab(2),p.nc("nzSm",18),p.Ab(1),p.nc("ngModel",o.cog.html),p.Ab(4),p.nc("nzSm",18)("nzOffset",6),p.Ab(1),p.nc("nzLoading",o.printing),p.Ab(2),p.nc("nzLoading",o.printing)}}var yn,Un,An=((yn=function(){function n(t,o,i){var r=this;e(this,n),this.lodopSrv=t,this.msg=o,this.notify=i,this.cog={url:"https://localhost:8443/CLodopfuncs.js",printer:"",paper:"",html:"\n      <h1>Title</h1>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n      <p>\u8fd9~\uff01@#\uffe5%\u2026\u2026&*\uff08\uff09\u2014\u2014sdilfjnvn</p>\n    "},this.error=!1,this.lodop=null,this.pinters=[],this.papers=[],this.printing=!1,this.lodopSrv.lodop.subscribe(function(n){var t=n.lodop;n.ok?(r.error=!1,r.msg.success("\u6253\u5370\u673a\u52a0\u8f7d\u6210\u529f"),r.lodop=t,r.pinters=r.lodopSrv.printer):r.error=!0})}return i(n,[{key:"reload",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:"https://localhost:8443/CLodopfuncs.js"};this.pinters=[],this.papers=[],this.cog.printer="",this.cog.paper="",this.lodopSrv.cog=Object.assign(Object.assign({},this.cog),n),this.error=!1,null===n&&this.lodopSrv.reset()}},{key:"changePinter",value:function(n){null!=this.lodop&&(this.papers=this.lodop.GET_PAGESIZES_LIST(n,"\n").split("\n"))}},{key:"print",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.lodop;t.PRINT_INITA(10,20,810,610,"\u6d4b\u8bd5C-Lodop\u8fdc\u7a0b\u6253\u5370\u56db\u6b65\u9aa4"),t.SET_PRINTER_INDEXA(this.cog.printer),t.SET_PRINT_PAGESIZE(0,0,0,this.cog.paper),t.ADD_PRINT_TEXT(1,1,300,200,"\u4e0b\u9762\u8f93\u51fa\u7684\u662f\u672c\u9875\u6e90\u4ee3\u7801\u53ca\u5176\u5c55\u73b0\u6548\u679c\uff1a"),t.ADD_PRINT_TEXT(20,10,"90%","95%",this.cog.html),t.SET_PRINT_STYLEA(0,"ItemType",4),t.NewPageA(),t.ADD_PRINT_HTM(20,10,"90%","95%",this.cog.html),n?t.PREVIEW():t.PRINT()}}]),n}()).\u0275fac=function(n){return new(n||yn)(p.Ob(ln),p.Ob(E.e),p.Ob(sn.b))},yn.\u0275cmp=p.Ib({type:yn,selectors:[["app-print"]],decls:10,vars:2,consts:[[1,"alain-default__content-title"],["href","https://ng-alain.com/components/lodop","target","_blank"],[3,"nzType","nzMessage",4,"ngIf"],["nz-form","",4,"ngIf"],[3,"nzType","nzMessage"],["message",""],["href","http://c-lodop.com/download.html","target","_blank"],["nz-form",""],["nz-row",""],["nz-col","",3,"nzSm"],["nz-col","",3,"nzSpan"],["nz-input","","nzPlaceHolder","https://localhost:8443/CLodopfuncs.js","name","url",3,"ngModel","ngModelChange"],["nz-button","",3,"click"],["nzPlaceHolder","\u8bf7\u9009\u62e9\u6253\u5370\u673a","nzShowSearch","","nzAllowClear","","name","printer",2,"width","90%",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","\u8bf7\u9009\u62e9\u7eb8\u5f20\u7c7b\u578b","nzShowSearch","","nzAllowClear","","name","paper",2,"width","90%",3,"ngModel","ngModelChange"],["nz-input","","name","html","nzAutosize","",3,"ngModel","ngModelChange"],["nz-form-extra",""],["nz-col","",3,"nzSm","nzOffset"],["nz-button","",3,"nzLoading","click"],[3,"nzLabel","nzValue"]],template:function(n,t){1&n&&(p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2," Lodop\u6253\u5370 "),p.Ub(3,"small"),p.Nc(4,"\u66f4\u591a\u4f53\u9a8c\u8bf7\u81f3 "),p.Ub(5,"a",1),p.Nc(6,"ng-alain.com"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(7,"nz-card"),p.Lc(8,gn,3,2,"nz-alert",2),p.Lc(9,Tn,36,20,"form",3),p.Tb()),2&n&&(p.Ab(8),p.nc("ngIf",t.error),p.Ab(1),p.nc("ngIf",!t.error))},directives:[m.a,l.o,bn.a,fn.w,fn.p,fn.q,pn.b,d.c,pn.c,d.a,pn.d,pn.a,v.a,hn.c,hn.b,fn.d,fn.o,fn.r,g.a,z.a,dn.e,l.n,hn.a,dn.a],encapsulation:2}),yn),kn=r("dMCN"),Nn=r("z4wI"),Mn=function(){return{standalone:!0}},Sn=((Un=function n(){e(this,n),this.value="https://ng-alain.com/",this.background="#ffffff",this.backgroundAlpha=1,this.foreground="#000000",this.foregroundAlpha=1,this.level="L",this.mime="image/png",this.padding=10,this.size=220}).\u0275fac=function(n){return new(n||Un)},Un.\u0275cmp=p.Ib({type:Un,selectors:[["app-qr"]],decls:54,vars:59,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/qr","target","_blank"],[3,"nzGutter"],[1,"text-center",3,"nzSpan"],[2,"border","1px solid #999",3,"value","background","backgroundAlpha","foreground","foregroundAlpha","level","mime","padding","size"],[3,"nzSpan"],["nz-form",""],["nz-input","","type","color",2,"width","100px",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],["nzValue","L","nzLabel","L"],["nzValue","M","nzLabel","M"],["nzValue","Q","nzLabel","Q"],["nzValue","H","nzLabel","H"],["nzValue","image/png","nzLabel","image/png"],["nzValue","image/jpeg","nzLabel","image/jpeg"],["nzValue","image/gif","nzLabel","image/gif"],[3,"ngModel","ngModelOptions","nzMin","nzMax","ngModelChange"],[3,"ngModel","ngModelOptions","nzMin","nzMax","nzStep","ngModelChange"]],template:function(n,t){1&n&&(p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2," \u4e8c\u7ef4\u7801 "),p.Ub(3,"a",1),p.Nc(4,"Document"),p.Tb(),p.Tb(),p.Tb(),p.Ub(5,"nz-card"),p.Ub(6,"nz-row",2),p.Ub(7,"nz-col",3),p.Pb(8,"qr",4),p.Tb(),p.Ub(9,"nz-col",5),p.Ub(10,"form",6),p.Ub(11,"nz-form-item"),p.Ub(12,"nz-form-label",5),p.Nc(13,"\u80cc\u666f"),p.Tb(),p.Ub(14,"nz-form-control",5),p.Ub(15,"nz-input-group"),p.Ub(16,"input",7),p.bc("ngModelChange",function(n){return t.background=n}),p.Tb(),p.Ub(17,"nz-input-number",8),p.bc("ngModelChange",function(n){return t.backgroundAlpha=n}),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(18,"nz-form-item"),p.Ub(19,"nz-form-label",5),p.Nc(20,"\u524d\u666f"),p.Tb(),p.Ub(21,"nz-form-control",5),p.Ub(22,"nz-input-group"),p.Ub(23,"input",7),p.bc("ngModelChange",function(n){return t.foreground=n}),p.Tb(),p.Ub(24,"nz-input-number",8),p.bc("ngModelChange",function(n){return t.foregroundAlpha=n}),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(25,"nz-form-item"),p.Ub(26,"nz-form-label",5),p.Nc(27,"\u8bef\u5dee"),p.Tb(),p.Ub(28,"nz-form-control",5),p.Ub(29,"nz-select",9),p.bc("ngModelChange",function(n){return t.level=n}),p.Pb(30,"nz-option",10),p.Pb(31,"nz-option",11),p.Pb(32,"nz-option",12),p.Pb(33,"nz-option",13),p.Tb(),p.Tb(),p.Tb(),p.Ub(34,"nz-form-item"),p.Ub(35,"nz-form-label",5),p.Nc(36,"Mime"),p.Tb(),p.Ub(37,"nz-form-control",5),p.Ub(38,"nz-select",9),p.bc("ngModelChange",function(n){return t.mime=n}),p.Pb(39,"nz-option",14),p.Pb(40,"nz-option",15),p.Pb(41,"nz-option",16),p.Tb(),p.Tb(),p.Tb(),p.Ub(42,"nz-form-item"),p.Ub(43,"nz-form-label",5),p.Nc(44,"\u5185\u8fb9\u8ddd"),p.Tb(),p.Ub(45,"nz-form-control",5),p.Ub(46,"nz-input-number",17),p.bc("ngModelChange",function(n){return t.padding=n}),p.Tb(),p.Nc(47,"px "),p.Tb(),p.Tb(),p.Ub(48,"nz-form-item"),p.Ub(49,"nz-form-label",5),p.Nc(50,"\u5927\u5c0f"),p.Tb(),p.Ub(51,"nz-form-control",5),p.Ub(52,"nz-input-number",18),p.bc("ngModelChange",function(n){return t.size=n}),p.Tb(),p.Nc(53,"px "),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&n&&(p.Ab(6),p.nc("nzGutter",24),p.Ab(1),p.nc("nzSpan",8),p.Ab(1),p.nc("value",t.value)("background",t.background)("backgroundAlpha",t.backgroundAlpha)("foreground",t.foreground)("foregroundAlpha",t.foregroundAlpha)("level",t.level)("mime",t.mime)("padding",t.padding)("size",t.size),p.Ab(1),p.nc("nzSpan",16),p.Ab(3),p.nc("nzSpan",8),p.Ab(2),p.nc("nzSpan",16),p.Ab(2),p.nc("ngModel",t.background)("ngModelOptions",p.qc(51,Mn)),p.Ab(1),p.nc("ngModel",t.backgroundAlpha)("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",p.qc(52,Mn)),p.Ab(2),p.nc("nzSpan",8),p.Ab(2),p.nc("nzSpan",16),p.Ab(2),p.nc("ngModel",t.foreground)("ngModelOptions",p.qc(53,Mn)),p.Ab(1),p.nc("ngModel",t.foregroundAlpha)("nzMin",0)("nzMax",1)("nzStep",.1)("ngModelOptions",p.qc(54,Mn)),p.Ab(2),p.nc("nzSpan",8),p.Ab(2),p.nc("nzSpan",16),p.Ab(1),p.nc("ngModel",t.level)("ngModelOptions",p.qc(55,Mn)),p.Ab(6),p.nc("nzSpan",8),p.Ab(2),p.nc("nzSpan",16),p.Ab(1),p.nc("ngModel",t.mime)("ngModelOptions",p.qc(56,Mn)),p.Ab(5),p.nc("nzSpan",8),p.Ab(2),p.nc("nzSpan",16),p.Ab(1),p.nc("ngModel",t.padding)("ngModelOptions",p.qc(57,Mn))("nzMin",0)("nzMax",100),p.Ab(3),p.nc("nzSpan",8),p.Ab(2),p.nc("nzSpan",16),p.Ab(1),p.nc("ngModel",t.size)("ngModelOptions",p.qc(58,Mn))("nzMin",100)("nzMax",1e3)("nzStep",t.padding))},directives:[m.a,d.c,d.a,kn.a,fn.w,fn.p,fn.q,pn.b,pn.c,pn.d,pn.a,v.a,hn.c,hn.b,fn.d,fn.o,fn.r,Nn.a,dn.e,dn.a],encapsulation:2}),Un),wn=r("T//C"),On=r("O3k0"),_n=r("Nqz0"),xn=r("FwiY"),Cn=r("Q8cG"),En=r("DOVM"),jn=function(){return[0,0,0,0]};function Pn(n,t){if(1&n&&p.Pb(0,"g2-mini-bar",21),2&n){var e=p.fc();p.nc("padding",p.qc(2,jn))("data",e.events)}}var Ln,In,Dn,Rn,qn=function(n){return{params:n}},Bn=function(){return{list:"results"}},Yn=function(n){return{reName:n}},Gn=((Ln=function(){function n(t,o){var i=this;e(this,n),this.http=t,this.message=o,this.ps=20,this.total=200,this.args={_allow_anonymous:!0,userid:null},this.url="https://api.randomuser.me/?results=20",this.events=[],this.scroll={y:"230px"},this.columns=[{title:"id",index:"id.value",type:"checkbox"},{title:"Avatar",index:"picture.thumbnail",type:"img",width:80},{title:"Name",index:"name.first",width:150,format:function(n){return"".concat(n.name.first," ").concat(n.name.last)},type:"link",click:function(n){return i.message.info(""+n.name.first)}},{title:"Email",index:"email"},{title:"Gender",index:"gender",type:"yn",yn:{truth:"female",yes:"\u7537",no:"\u5973",mode:"text"},width:120},{title:"Events",render:"events",width:90},{title:"Registered",index:"registered.date",type:"date",width:170},{title:"Actions",width:120,buttons:[{text:"Edit",click:function(n){return i.message.info("edit [".concat(n.id.value,"]"))},iif:function(n){return"female"===n.gender}},{text:"Delete",type:"del",click:function(n){return i.message.info("deleted [".concat(n.id.value,"]"))}}]}]}return i(n,[{key:"ngOnInit",value:function(){var n=this;this.http.get("/chart/visit").subscribe(function(t){return n.events=t.slice(0,8)})}},{key:"fullChange",value:function(n){this.scroll=n?{y:"350px"}:{y:"230px"}}}]),n}()).\u0275fac=function(n){return new(n||Ln)(p.Ob(h.r),p.Ob(E.e))},Ln.\u0275cmp=p.Ib({type:Ln,selectors:[["app-st"]],decls:43,vars:18,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/table","target","_blank"],["href","//ng-alain.com/components/full-content","target","_blank"],[3,"fullscreenChange"],["nz-row","",1,"mb-md"],["nz-col","","nzSpan","12"],["nz-form","","nzLayout","inline","se-container",""],["label","User ID","labelWidth","0"],["nz-input","","name","userid","id","userid",3,"ngModel","ngModelChange"],["nz-button","",3,"nzType","nzLoading","click"],["nz-button","",3,"disabled","click"],[1,"text-right"],["nz-button","","nz-dropdown","",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["exportMenu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],["nz-button","","full-toggle","",1,"ml-sm",3,"nzType"],[3,"data","req","res","total","ps","columns","scroll"],["st",""],["st-row","events"],["height","15","theme","mini","color","#999","borderWidth","3","tooltipType","mini",3,"padding","data"]],template:function(n,t){if(1&n){var e=p.Vb();p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2," Fullscreen & ST "),p.Ub(3,"small"),p.Nc(4,"\u4f7f\u7528 "),p.Ub(5,"a",1),p.Nc(6,"st"),p.Tb(),p.Nc(7,"\u3001 "),p.Ub(8,"a",2),p.Nc(9,"full-content"),p.Tb(),p.Nc(10," \u7ec4\u5408\uff0c\u7531\u4e8e nz-table \u56fa\u5b9a\u8868\u5934\u6682\u4e0d\u652f\u6301\u81ea\u9002\u5e94\uff0c\u56e0\u6b64\u8868\u683c\u7684\u5c55\u793a\u7684\u6548\u679c\u5728\u54cd\u5e94\u5f0f\u91cc\u9762\u6548\u679c\u5e76\u4e0d\u662f\u7279\u522b\u597d\u3002"),p.Tb(),p.Tb(),p.Tb(),p.Ub(11,"full-content",3),p.bc("fullscreenChange",function(n){return t.fullChange(n)}),p.Ub(12,"nz-card"),p.Ub(13,"div",4),p.Ub(14,"div",5),p.Ub(15,"form",6),p.Ub(16,"se",7),p.Ub(17,"input",8),p.bc("ngModelChange",function(n){return t.args.userid=n}),p.Tb(),p.Tb(),p.Ub(18,"se"),p.Ub(19,"button",9),p.bc("click",function(){return p.Ac(e),p.xc(41).load()}),p.Nc(20,"Search"),p.Tb(),p.Ub(21,"button",10),p.bc("click",function(){return p.Ac(e),p.xc(41).load(1,{_allow_anonymous:!0})}),p.Nc(22,"Clear"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(23,"div",5),p.Ub(24,"div",11),p.Ub(25,"button",12),p.Ub(26,"span"),p.Nc(27,"Export"),p.Tb(),p.Pb(28,"i",13),p.Tb(),p.Ub(29,"nz-dropdown-menu",null,14),p.Ub(31,"ul",15),p.Ub(32,"li",16),p.Nc(33,"Excel"),p.Tb(),p.Ub(34,"li",16),p.Nc(35,"JSON"),p.Tb(),p.Ub(36,"li",16),p.Nc(37,"PNG"),p.Tb(),p.Tb(),p.Tb(),p.Ub(38,"button",17),p.Nc(39,"Full"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(40,"st",18,19),p.Lc(42,Pn,1,3,"ng-template",20),p.Tb(),p.Tb(),p.Tb()}if(2&n){var o=p.xc(30);p.Ab(17),p.nc("ngModel",t.args.userid),p.Ab(2),p.nc("nzType","primary")("nzLoading",t.http.loading),p.Ab(2),p.nc("disabled",t.http.loading),p.Ab(4),p.nc("nzDropdownMenu",o),p.Ab(13),p.nc("nzType","default"),p.Ab(2),p.nc("data",t.url)("req",p.rc(13,qn,t.args))("res",p.rc(16,Yn,p.qc(15,Bn)))("total",t.total)("ps",t.ps)("columns",t.columns)("scroll",t.scroll)}},directives:[wn.a,m.a,d.c,d.a,fn.w,fn.p,fn.q,pn.b,On.b,On.a,hn.b,fn.d,fn.o,fn.r,g.a,z.a,v.a,_n.d,_n.b,xn.a,_n.e,Cn.c,Cn.e,wn.c,Z.a,Z.c,En.a],encapsulation:2}),Ln),Fn=function(){return{standalone:!0}},Vn=((In=function(){function n(t){e(this,n),this.messageSrv=t,this.format_str="this is ${name}",this.format_res="",this.format_obj=JSON.stringify({name:"asdf"}),this.content="time ".concat(+new Date,"\n\n    \u4e2d\u6587\uff01@#\uffe5%\u2026\u2026&*")}return i(n,[{key:"onFormat",value:function(){var n=null;try{n=JSON.parse(this.format_obj)}catch(t){return void this.messageSrv.error("\u65e0\u6cd5\u4f7f\u7528 JSON.parse \u8f6c\u6362")}this.format_res=Object(U.m)(this.format_str,n,!0)}},{key:"onYuan",value:function(n){this.yuan_res=Object(s.c)(n)}},{key:"onCopy",value:function(){var n=this;Object(U.g)("time "+ +new Date).then(function(){return n.messageSrv.success("success")})}}]),n}()).\u0275fac=function(n){return new(n||In)(p.Ob(E.e))},In.\u0275cmp=p.Ib({type:In,selectors:[["app-util"]],decls:39,vars:23,consts:[[1,"alain-default__content-title"],[3,"nzGutter"],[3,"nzSpan"],["nzTitle","\u5b57\u7b26\u4e32\u7c7b"],["nzType","inner","nzTitle","format"],["nz-form",""],[3,"nzSm"],["nz-input","",3,"ngModel","ngModelOptions","ngModelChange"],[3,"nzSpan","nzOffset"],["nz-button","",3,"click"],["nzType","inner","nzTitle","yuan"],["type","number","nz-input","",3,"ngModel","ngModelChange"],[3,"innerHTML"],["nzTitle","\u5176\u5b83\u7c7b"]],template:function(n,t){1&n&&(p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2," \u5de5\u5177\u96c6 "),p.Ub(3,"small"),p.Nc(4,"@delon/util \u65e5\u5e38\u7528\u6cd5\u3002"),p.Tb(),p.Tb(),p.Tb(),p.Ub(5,"nz-row",1),p.Ub(6,"nz-col",2),p.Ub(7,"nz-card",3),p.Ub(8,"nz-card",4),p.Ub(9,"form",5),p.Ub(10,"nz-form-item"),p.Ub(11,"nz-form-label",6),p.Nc(12,"String"),p.Tb(),p.Ub(13,"nz-form-control",6),p.Ub(14,"input",7),p.bc("ngModelChange",function(n){return t.format_str=n}),p.Tb(),p.Tb(),p.Tb(),p.Ub(15,"nz-form-item"),p.Ub(16,"nz-form-label",6),p.Nc(17,"Object"),p.Tb(),p.Ub(18,"nz-form-control",6),p.Ub(19,"input",7),p.bc("ngModelChange",function(n){return t.format_obj=n}),p.Tb(),p.Tb(),p.Tb(),p.Ub(20,"nz-form-item"),p.Ub(21,"nz-form-control",8),p.Ub(22,"button",9),p.bc("click",function(){return t.onFormat()}),p.Nc(23,"Run"),p.Tb(),p.Tb(),p.Tb(),p.Ub(24,"nz-form-item"),p.Ub(25,"nz-form-label",6),p.Nc(26,"Result"),p.Tb(),p.Ub(27,"nz-form-control",6),p.Nc(28),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(29,"nz-card",10),p.Ub(30,"nz-row",1),p.Ub(31,"nz-col",2),p.Ub(32,"input",11),p.bc("ngModelChange",function(n){return t.yuan_str=n})("ngModelChange",function(n){return t.onYuan(n)}),p.Tb(),p.Tb(),p.Ub(33,"nz-col",2),p.Pb(34,"div",12),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(35,"nz-col",2),p.Ub(36,"nz-card",13),p.Ub(37,"button",9),p.bc("click",function(){return t.onCopy()}),p.Nc(38,"Copy"),p.Tb(),p.Tb(),p.Tb(),p.Tb()),2&n&&(p.Ab(5),p.nc("nzGutter",16),p.Ab(1),p.nc("nzSpan",12),p.Ab(5),p.nc("nzSm",8),p.Ab(2),p.nc("nzSm",16),p.Ab(1),p.nc("ngModel",t.format_str)("ngModelOptions",p.qc(21,Fn)),p.Ab(2),p.nc("nzSm",8),p.Ab(2),p.nc("nzSm",16),p.Ab(1),p.nc("ngModel",t.format_obj)("ngModelOptions",p.qc(22,Fn)),p.Ab(2),p.nc("nzSpan",16)("nzOffset",8),p.Ab(4),p.nc("nzSm",8),p.Ab(2),p.nc("nzSm",16),p.Ab(1),p.Pc(" ",t.format_res," "),p.Ab(2),p.nc("nzGutter",16),p.Ab(1),p.nc("nzSpan",12),p.Ab(1),p.nc("ngModel",t.yuan_str),p.Ab(1),p.nc("nzSpan",12),p.Ab(1),p.nc("innerHTML",t.yuan_res,p.Bc),p.Ab(1),p.nc("nzSpan",12))},directives:[d.c,d.a,m.a,fn.w,fn.p,fn.q,pn.b,pn.c,pn.d,pn.a,hn.b,fn.d,fn.o,fn.r,g.a,z.a,v.a,fn.s],encapsulation:2}),In),Jn=r("updA"),Kn=((Dn=function(){function n(t){e(this,n),this.xlsx=t,this.users=Array(100).fill(0).map(function(n,t){return{id:t+1,name:"name "+(t+1),age:Math.ceil(10*Math.random())+20}}),this.columns=[{title:"\u7f16\u53f7",index:"id",type:"checkbox"},{title:"\u59d3\u540d",index:"name"},{title:"\u5e74\u9f84",index:"age"}]}return i(n,[{key:"url",value:function(){var n=this;this.xlsx.import("./assets/tmp/demo.xlsx").then(function(t){return n.data=t})}},{key:"change",value:function(n){var t=this;this.xlsx.import(n.target.files[0]).then(function(n){return t.data=n})}},{key:"download",value:function(){var n=this,t=[this.columns.map(function(n){return n.title})];this.users.forEach(function(e){return t.push(n.columns.map(function(n){return e[n.index]}))}),this.xlsx.export({sheets:[{data:t,name:"sheet name"}]})}}]),n}()).\u0275fac=function(n){return new(n||Dn)(p.Ob(Jn.a))},Dn.\u0275cmp=p.Ib({type:Dn,selectors:[["app-xlsx"]],decls:16,vars:6,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/xlsx","target","_blank"],["nzTitle","Import"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[1,"mt-sm"],["nzTitle","Export"],[1,"mt-sm",3,"data","ps","columns"]],template:function(n,t){1&n&&(p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2," Import & Export excel file, "),p.Ub(3,"a",1),p.Nc(4,"Document"),p.Tb(),p.Tb(),p.Tb(),p.Ub(5,"nz-card",2),p.Ub(6,"button",3),p.bc("click",function(){return t.url()}),p.Nc(7,"Via Url"),p.Tb(),p.Ub(8,"input",4),p.bc("change",function(n){return t.change(n)}),p.Tb(),p.Ub(9,"p",5),p.Nc(10),p.gc(11,"json"),p.Tb(),p.Tb(),p.Ub(12,"nz-card",6),p.Ub(13,"button",3),p.bc("click",function(){return t.download()}),p.Nc(14,"Export"),p.Tb(),p.Pb(15,"st",7),p.Tb()),2&n&&(p.Ab(10),p.Pc("result: ",p.hc(11,4,t.data),""),p.Ab(5),p.nc("data",t.users)("ps",3)("columns",t.columns))},directives:[m.a,g.a,z.a,v.a,Z.a],pipes:[l.i],encapsulation:2}),Dn),Zn=r("Iab2"),Hn=((Rn=function(){function n(t,o,i,r){e(this,n),this.http=t,this.lazy=o,this.ngZone=r,this.cog=i.merge("zip",{url:"//cdn.bootcss.com/jszip/3.3.0/jszip.min.js",utils:[]})}return i(n,[{key:"init",value:function(){return this.lazy.load([this.cog.url].concat(this.cog.utils))}},{key:"check",value:function(n){if(!n)throw new Error("get instance via `ZipService.create()`")}},{key:"read",value:function(n,t){var e=this;return new Promise(function(o,i){var r=function(n){e.ngZone.run(function(){return o(n)})};e.init().then(function(){e.ngZone.runOutsideAngular(function(){if("string"!=typeof n){var o=new FileReader;o.onload=function(n){JSZip.loadAsync(n.target.result,t).then(function(n){return r(n)})},o.readAsBinaryString(n)}else e.http.request("GET",n,{responseType:"arraybuffer"}).subscribe(function(n){JSZip.loadAsync(n,t).then(function(n){return r(n)})},function(n){i(n)})})})})}},{key:"create",value:function(){var n=this;return new Promise(function(t){n.init().then(function(){var n=new JSZip;t(n)})})}},{key:"pushUrl",value:function(n,t,e){var o=this;return this.check(n),new Promise(function(i,r){o.http.request("GET",e,{responseType:"arraybuffer"}).subscribe(function(e){n.file(t,e),i()},function(n){r({url:e,error:n})})})}},{key:"save",value:function(n,t){this.check(n);var e=Object.assign({},t);return new Promise(function(t,o){n.generateAsync(Object.assign({type:"blob"},e.options),e.update).then(function(n){e.callback&&e.callback(n),Object(Zn.saveAs)(n,e.filename||"download.zip"),t()},function(n){o(n)})})}}]),n}()).\u0275fac=function(n){return new(n||Rn)(p.Yb(y.c),p.Yb(U.f),p.Yb(U.b),p.Yb(p.z))},Rn.\u0275prov=Object(p.Kb)({factory:function(){return new Rn(Object(p.Yb)(y.c),Object(p.Yb)(U.f),Object(p.Yb)(U.b),Object(p.Yb)(p.z))},token:Rn,providedIn:"root"}),Rn),Xn=r("rMZv");function $n(n,t){if(1&n&&(p.Ub(0,"li"),p.Nc(1),p.gc(2,"json"),p.Tb()),2&n){var e=t.$implicit;p.Ab(1),p.Oc(p.hc(2,1,e))}}function Wn(n,t){if(1&n){var e=p.Vb();p.Ub(0,"nz-card",4),p.Ub(1,"button",5),p.bc("click",function(){return p.Ac(e),p.fc().url()}),p.Nc(2,"Via Url"),p.Tb(),p.Ub(3,"input",6),p.bc("change",function(n){return p.Ac(e),p.fc().change(n)}),p.Tb(),p.Ub(4,"ol"),p.Lc(5,$n,3,3,"li",7),p.Tb(),p.Tb()}if(2&n){var o=p.fc();p.Ab(5),p.nc("ngForOf",o.list)}}function Qn(n,t){if(1&n&&(p.Ub(0,"tr"),p.Ub(1,"td"),p.Ub(2,"input",12),p.bc("ngModelChange",function(n){return t.$implicit.path=n}),p.Tb(),p.Tb(),p.Ub(3,"td"),p.Ub(4,"input",12),p.bc("ngModelChange",function(n){return t.$implicit.url=n}),p.Tb(),p.Tb(),p.Tb()),2&n){var e=t.$implicit,o=t.index;p.Ab(2),p.pc("name","path",o,""),p.nc("ngModel",e.path),p.Ab(2),p.pc("name","url",o,""),p.nc("ngModel",e.url)}}function nt(n,t){if(1&n){var e=p.Vb();p.Ub(0,"nz-card",8),p.Ub(1,"button",9),p.bc("click",function(){return p.Ac(e),p.fc().data.push({})}),p.Nc(2,"new"),p.Tb(),p.Ub(3,"button",10),p.bc("click",function(){return p.Ac(e),p.fc().download()}),p.Nc(4,"download"),p.Tb(),p.Ub(5,"nz-table",11),p.Ub(6,"thead"),p.Ub(7,"tr"),p.Ub(8,"th"),p.Ub(9,"span"),p.Nc(10,"path"),p.Tb(),p.Tb(),p.Ub(11,"th"),p.Ub(12,"span"),p.Nc(13,"url"),p.Tb(),p.Tb(),p.Tb(),p.Tb(),p.Ub(14,"tbody"),p.Lc(15,Qn,5,4,"tr",7),p.Tb(),p.Tb(),p.Tb()}if(2&n){var o=p.fc();p.Ab(1),p.nc("nzType","primary"),p.Ab(4),p.nc("nzData",o.data)("nzFrontPagination",!1)("nzShowPagination",!1),p.Ab(10),p.nc("ngForOf",o.data)}}var tt,et,ot,it=[{path:"st",component:Gn},{path:"util",component:Vn},{path:"print",component:An},{path:"acl",component:T},{path:"guard",component:rn,children:[{path:"leave",component:an,canDeactivate:[nn]},{path:"auth",component:W,canActivate:[f.b],data:{guard:"user1"}},{path:"admin",component:$,canActivate:[f.b],data:{guard:"admin"}}]},{path:"cache",component:j},{path:"qr",component:Sn},{path:"downfile",component:V},{path:"xlsx",component:Kn},{path:"zip",component:(tt=function(){function n(t,o,i){e(this,n),this.zip=t,this.msg=o,this.cdr=i,this.instance=null,this.data=[{path:"demo.docx",url:"https://ng-alain.com/assets/demo.docx"},{path:"\u5c0f\u7a0b\u5e8f\u6807\u5fd7.zip",url:"https://wximg.gtimg.com/shake_tv/mina/standard_logo.zip"}]}return i(n,[{key:"ngOnInit",value:function(){var n=this;this.zip.create().then(function(t){n.instance=t,n.cdr.detectChanges()})}},{key:"format",value:function(n){var t=n.files;this.list=Object.keys(t).map(function(n){return{name:n,dir:t[n].dir,date:t[n].date}}),this.cdr.detectChanges()}},{key:"url",value:function(){var n=this;this.zip.read("./assets/tmp/demo.zip").then(function(t){return n.format(t)})}},{key:"change",value:function(n){var t=this;this.zip.read(n.target.files[0]).then(function(n){return t.format(n)})}},{key:"download",value:function(){var n=this,t=[];this.data.forEach(function(e){t.push(n.zip.pushUrl(n.instance,e.path,e.url))}),Promise.all(t).then(function(){n.zip.save(n.instance).then(function(){n.msg.success("download success"),n.data=[]})},function(t){console.warn(t),n.msg.error(JSON.stringify(t))})}}]),n}(),tt.\u0275fac=function(n){return new(n||tt)(p.Ob(Hn),p.Ob(E.e),p.Ob(p.h))},tt.\u0275cmp=p.Ib({type:tt,selectors:[["app-zip"]],decls:7,vars:2,consts:[[1,"alain-default__content-title"],["href","//ng-alain.com/components/zip","target","_blank"],["nzTitle","\u89e3\u538b",4,"ngIf"],["nzTitle","\u538b\u7f29",4,"ngIf"],["nzTitle","\u89e3\u538b"],["nz-button","",3,"click"],["type","file","multiple","false",1,"ml-sm",3,"change"],[4,"ngFor","ngForOf"],["nzTitle","\u538b\u7f29"],["nz-button","",3,"nzType","click"],["nz-button","",1,"ml-sm",3,"click"],[1,"mt-sm",3,"nzData","nzFrontPagination","nzShowPagination"],["nz-input","",3,"ngModel","name","ngModelChange"]],template:function(n,t){1&n&&(p.Ub(0,"div",0),p.Ub(1,"h1"),p.Nc(2," Read & Write zip file, "),p.Ub(3,"a",1),p.Nc(4,"Document"),p.Tb(),p.Tb(),p.Tb(),p.Lc(5,Wn,6,1,"nz-card",2),p.Lc(6,nt,16,5,"nz-card",3)),2&n&&(p.Ab(5),p.nc("ngIf",t.instance),p.Ab(1),p.nc("ngIf",t.instance))},directives:[l.o,m.a,g.a,z.a,v.a,l.n,Xn.c,Xn.k,Xn.l,Xn.b,Xn.j,Xn.g,hn.b,fn.d,fn.o,fn.r],pipes:[l.i],encapsulation:2,changeDetection:0}),tt)},{path:"form",component:X}],rt=((ot=function n(){e(this,n)}).\u0275mod=p.Mb({type:ot}),ot.\u0275inj=p.Lb({factory:function(n){return new(n||ot)},imports:[[b.o.forChild(it)],b.o]}),ot),ct=((et=function n(){e(this,n)}).\u0275mod=p.Mb({type:et}),et.\u0275inj=p.Lb({factory:function(n){return new(n||et)},providers:[nn],imports:[[l.c,s.b,rt]]}),et)}}])}();