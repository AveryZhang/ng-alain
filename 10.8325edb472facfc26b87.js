(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{lYtU:function(t,e,n){"use strict";n.r(e),n.d(e,"PassportModule",function(){return it});var r=n("M0ag"),o=n("0bRG"),i=n("fXoL"),a=n("Ac7g"),s=n("tyNb");let c=(()=>{class t{constructor(t,e,n){this.socialService=t,this.settingsSrv=e,this.route=n,this.type=""}ngOnInit(){this.type=this.route.snapshot.params.type,this.mockModel()}mockModel(){const t={token:"123456789",name:"cipchk",email:`${this.type}@${this.type}.com`,id:1e4,time:+new Date};this.settingsSrv.setUser(Object.assign(Object.assign({},this.settingsSrv.user),t)),this.socialService.callback(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(o.d),i.Rb(a.m),i.Rb(s.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-callback"]],features:[i.Cb([o.d])],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();var l=n("3Pt+"),p=n("ZE2D"),b=n("ocnv"),u=n("B+r4"),m=n("C2AL"),d=n("PTRe"),g=n("OzZK"),h=n("RwU8"),f=n("sYmb");let z=(()=>{class t{constructor(t,e,n,r){this.tokenService=e,this.settings=n,this.router=r,this.f=t.group({password:[null,l.v.required]})}get user(){return this.settings.user}submit(){for(const t in this.f.controls)this.f.controls[t].markAsDirty(),this.f.controls[t].updateValueAndValidity();this.f.valid&&(console.log("Valid!"),console.log(this.f.value),this.tokenService.set({token:"123"}),this.router.navigate(["dashboard"]))}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(l.f),i.Rb(o.a),i.Rb(a.m),i.Rb(s.l))},t.\u0275cmp=i.Lb({type:t,selectors:[["passport-lock"]],decls:15,vars:11,consts:[[1,"ant-card","width-lg",2,"margin","0 auto"],[1,"ant-card-body"],[1,"avatar"],["nzIcon","user","nzSize","large",3,"nzSrc"],["nz-form","","role","form",1,"mt-md",3,"formGroup","ngSubmit"],[3,"nzErrorTip"],["nzSuffixIcon","lock"],["type","password","nz-input","","formControlName","password"],["nzType","flex","nzAlign","middle"],[2,"text-align","right",3,"nzOffset","nzSpan"],["nz-button","","nzType","primary",3,"disabled"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Sb(3,"nz-avatar",3),i.Wb(),i.Xb(4,"form",4),i.ec("ngSubmit",function(){return e.submit()}),i.Xb(5,"nz-form-item"),i.Xb(6,"nz-form-control",5),i.jc(7,"translate"),i.Xb(8,"nz-input-group",6),i.Sb(9,"input",7),i.Wb(),i.Wb(),i.Wb(),i.Xb(10,"nz-row",8),i.Xb(11,"nz-col",9),i.Xb(12,"button",10),i.Oc(13),i.jc(14,"translate"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Db(3),i.qc("nzSrc",e.user.avatar),i.Db(1),i.qc("formGroup",e.f),i.Db(2),i.qc("nzErrorTip",i.kc(7,7,"validation.password.required")),i.Db(5),i.qc("nzOffset",12)("nzSpan",12),i.Db(1),i.qc("disabled",!e.f.valid),i.Db(1),i.Pc(i.kc(14,9,"app.lock")))},directives:[p.a,l.w,l.p,b.b,l.i,u.c,b.c,u.a,b.a,m.a,d.c,d.b,l.d,l.o,l.h,g.a,h.a],pipes:[f.c],styles:["[_nghost-%COMP%]     .ant-card-body{position:relative;margin-top:80px}[_nghost-%COMP%]     .avatar{position:absolute;top:-20px;left:50%;margin-left:-20px}"]}),t})();var v=n("wdp9"),w=n("AytR"),k=n("ey9i"),S=n("PScX"),y=n("oyxB"),D=n("ofXK"),X=n("TaO5"),q=n("nJia"),W=n("FwiY"),P=n("Wfee");function O(t,e){if(1&t&&i.Sb(0,"nz-alert",27),2&t){const t=i.ic();i.qc("nzType","error")("nzMessage",t.error)("nzShowIcon",!0)}}function C(t,e){1&t&&(i.Vb(0),i.Oc(1),i.jc(2,"translate"),i.Ub()),2&t&&(i.Db(1),i.Qc(" ",i.kc(2,1,"validation.phone-number.required")," "))}function M(t,e){1&t&&(i.Vb(0),i.Oc(1),i.jc(2,"translate"),i.Ub()),2&t&&(i.Db(1),i.Qc(" ",i.kc(2,1,"validation.phone-number.wrong-format")," "))}function I(t,e){if(1&t&&(i.Mc(0,C,3,3,"ng-container",28),i.Mc(1,M,3,3,"ng-container",28)),2&t){const t=e.$implicit;i.qc("ngIf",t.errors.required),i.Db(1),i.qc("ngIf",t.errors.pattern)}}let T=(()=>{class t{constructor(t,e,n,r,o,i,a,s,c){this.router=e,this.settingsService=n,this.socialService=r,this.reuseTabService=o,this.tokenService=i,this.startupSrv=a,this.http=s,this.msg=c,this.error="",this.type=0,this.count=0,this.form=t.group({userName:[null,[l.v.required,l.v.pattern(/^(admin|user)$/)]],password:[null,[l.v.required,l.v.pattern(/^(ng\-alain\.com)$/)]],mobile:[null,[l.v.required,l.v.pattern(/^1\d{10}$/)]],captcha:[null,[l.v.required]],remember:[!0]})}get userName(){return this.form.controls.userName}get password(){return this.form.controls.password}get mobile(){return this.form.controls.mobile}get captcha(){return this.form.controls.captcha}switch({index:t}){this.type=t}getCaptcha(){if(this.mobile.invalid)return this.mobile.markAsDirty({onlySelf:!0}),void this.mobile.updateValueAndValidity({onlySelf:!0});this.count=59,this.interval$=setInterval(()=>{this.count-=1,this.count<=0&&clearInterval(this.interval$)},1e3)}submit(){if(this.error="",0===this.type){if(this.userName.markAsDirty(),this.userName.updateValueAndValidity(),this.password.markAsDirty(),this.password.updateValueAndValidity(),this.userName.invalid||this.password.invalid)return}else if(this.mobile.markAsDirty(),this.mobile.updateValueAndValidity(),this.captcha.markAsDirty(),this.captcha.updateValueAndValidity(),this.mobile.invalid||this.captcha.invalid)return;this.http.post("/login/account?_allow_anonymous=true",{type:this.type,userName:this.userName.value,password:this.password.value}).subscribe(t=>{"ok"===t.msg?(this.reuseTabService.clear(),t.user.expired=+new Date+3e5,this.tokenService.set(t.user),this.startupSrv.load().then(()=>{let t=this.tokenService.referrer.url||"/";t.includes("/passport")&&(t="/"),this.router.navigateByUrl(t)})):this.error=t.msg})}open(t,e="href"){let n="",r="";switch(r=w.a.production?"https://ng-alain.github.io/ng-alain/#/passport/callback/"+t:"http://localhost:4200/#/passport/callback/"+t,t){case"auth0":n=`//cipchk.auth0.com/login?client=8gcNydIDzGBYxzqV0Vm1CX_RXH-wsWo5&redirect_uri=${decodeURIComponent(r)}`;break;case"github":n=`//github.com/login/oauth/authorize?client_id=9d6baae4b04a23fcafa2&response_type=code&redirect_uri=${decodeURIComponent(r)}`;break;case"weibo":n=`https://api.weibo.com/oauth2/authorize?client_id=1239507802&response_type=code&redirect_uri=${decodeURIComponent(r)}`}"window"===e?this.socialService.login(n,"/",{type:"window"}).subscribe(t=>{t&&(this.settingsService.setUser(t),this.router.navigateByUrl("/"))}):this.socialService.login(n,"/",{type:"href"})}ngOnDestroy(){this.interval$&&clearInterval(this.interval$)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(l.f),i.Rb(s.l),i.Rb(a.m),i.Rb(o.d),i.Rb(v.a,8),i.Rb(o.a),i.Rb(k.c),i.Rb(a.q),i.Rb(S.e))},t.\u0275cmp=i.Lb({type:t,selectors:[["passport-login"]],features:[i.Cb([o.d])],decls:54,vars:39,consts:[["nz-form","","role","form",3,"formGroup","ngSubmit"],[1,"tabs",3,"nzAnimated","nzSelectChange"],[3,"nzTitle"],["class","mb-lg",3,"nzType","nzMessage","nzShowIcon",4,"ngIf"],["nzErrorTip","Please enter mobile number, muse be: admin or user"],["nzSize","large","nzPrefixIcon","user"],["nz-input","","formControlName","userName","placeholder","username: admin or user"],["nzErrorTip","Please enter password, muse be: ng-alain.com"],["nzSize","large","nzPrefixIcon","lock"],["nz-input","","type","password","formControlName","password","placeholder","password: ng-alain.com"],[3,"nzErrorTip"],["nz-input","","formControlName","mobile","placeholder","mobile number"],["mobileErrorTip",""],[3,"nzGutter"],[3,"nzSpan"],["nzSize","large","nzPrefixIcon","mail"],["nz-input","","formControlName","captcha","placeholder","captcha"],["type","button","nz-button","","nzSize","large","nzBlock","",3,"disabled","nzLoading","click"],["nz-checkbox","","formControlName","remember"],[1,"text-right",3,"nzSpan"],[1,"forgot",3,"click"],["nz-button","","type","submit","nzType","primary","nzSize","large","nzBlock","",3,"nzLoading"],[1,"other"],["nz-tooltip","","nzTooltipTitle","in fact Auth0 via window","nz-icon","","nzType","alipay-circle",1,"icon",3,"click"],["nz-tooltip","","nzTooltipTitle","in fact Github via redirect","nz-icon","","nzType","taobao-circle",1,"icon",3,"click"],["nz-icon","","nzType","weibo-circle",1,"icon",3,"click"],["routerLink","/passport/register",1,"register"],[1,"mb-lg",3,"nzType","nzMessage","nzShowIcon"],[4,"ngIf"]],template:function(t,e){if(1&t&&(i.Xb(0,"form",0),i.ec("ngSubmit",function(){return e.submit()}),i.Xb(1,"nz-tabset",1),i.ec("nzSelectChange",function(t){return e.switch(t)}),i.Xb(2,"nz-tab",2),i.jc(3,"translate"),i.Mc(4,O,1,3,"nz-alert",3),i.Xb(5,"nz-form-item"),i.Xb(6,"nz-form-control",4),i.Xb(7,"nz-input-group",5),i.Sb(8,"input",6),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"nz-form-item"),i.Xb(10,"nz-form-control",7),i.Xb(11,"nz-input-group",8),i.Sb(12,"input",9),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(13,"nz-tab",2),i.jc(14,"translate"),i.Xb(15,"nz-form-item"),i.Xb(16,"nz-form-control",10),i.Xb(17,"nz-input-group",5),i.Sb(18,"input",11),i.Wb(),i.Mc(19,I,2,2,"ng-template",null,12,i.Nc),i.Wb(),i.Wb(),i.Xb(21,"nz-form-item"),i.Xb(22,"nz-form-control",10),i.jc(23,"translate"),i.Xb(24,"nz-row",13),i.Xb(25,"nz-col",14),i.Xb(26,"nz-input-group",15),i.Sb(27,"input",16),i.Wb(),i.Wb(),i.Xb(28,"nz-col",14),i.Xb(29,"button",17),i.ec("click",function(){return e.getCaptcha()}),i.Oc(30),i.jc(31,"translate"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(32,"nz-form-item"),i.Xb(33,"nz-col",14),i.Xb(34,"label",18),i.Oc(35),i.jc(36,"translate"),i.Wb(),i.Wb(),i.Xb(37,"nz-col",19),i.Xb(38,"a",20),i.ec("click",function(){return e.msg.error("\u8bf7\u627e\u6b27\u9633\u950b")}),i.Oc(39),i.jc(40,"translate"),i.Wb(),i.Wb(),i.Wb(),i.Xb(41,"nz-form-item"),i.Xb(42,"button",21),i.Oc(43),i.jc(44,"translate"),i.Wb(),i.Wb(),i.Wb(),i.Xb(45,"div",22),i.Oc(46),i.jc(47,"translate"),i.Xb(48,"i",23),i.ec("click",function(){return e.open("auth0","window")}),i.Wb(),i.Xb(49,"i",24),i.ec("click",function(){return e.open("github")}),i.Wb(),i.Xb(50,"i",25),i.ec("click",function(){return e.open("weibo","window")}),i.Wb(),i.Xb(51,"a",26),i.Oc(52),i.jc(53,"translate"),i.Wb(),i.Wb()),2&t){const t=i.Ac(20);i.qc("formGroup",e.form),i.Db(1),i.qc("nzAnimated",!1),i.Db(1),i.qc("nzTitle",i.kc(3,21,"app.login.tab-login-credentials")),i.Db(2),i.qc("ngIf",e.error),i.Db(9),i.qc("nzTitle",i.kc(14,23,"app.login.tab-login-mobile")),i.Db(3),i.qc("nzErrorTip",t),i.Db(6),i.qc("nzErrorTip",i.kc(23,25,"validation.verification-code.required")),i.Db(2),i.qc("nzGutter",8),i.Db(1),i.qc("nzSpan",16),i.Db(3),i.qc("nzSpan",8),i.Db(1),i.qc("disabled",e.count>=0)("nzLoading",e.http.loading),i.Db(1),i.Qc(" ",e.count?e.count+"s":i.kc(31,27,"app.register.get-verification-code")," "),i.Db(3),i.qc("nzSpan",12),i.Db(2),i.Pc(i.kc(36,29,"app.login.remember-me")),i.Db(2),i.qc("nzSpan",12),i.Db(2),i.Pc(i.kc(40,31,"app.login.forgot-password")),i.Db(3),i.qc("nzLoading",e.http.loading),i.Db(1),i.Qc(" ",i.kc(44,33,"app.login.login")," "),i.Db(3),i.Qc(" ",i.kc(47,35,"app.login.sign-in-with")," "),i.Db(6),i.Pc(i.kc(53,37,"app.login.signup"))}},directives:[l.w,l.p,b.b,l.i,y.b,y.a,D.o,u.c,b.c,u.a,b.a,m.a,d.c,d.b,l.d,l.o,l.h,g.a,h.a,X.a,q.d,W.a,s.n,P.a],pipes:[f.c],styles:["[_nghost-%COMP%]{display:block;width:368px;margin:0 auto}[_nghost-%COMP%]     .ant-tabs .ant-tabs-bar{margin-bottom:24px;text-align:center;border-bottom:0}[_nghost-%COMP%]     .ant-tabs-tab{font-size:16px;line-height:24px}[_nghost-%COMP%]     .ant-input-affix-wrapper .ant-input:not(:first-child){padding-left:4px}[_nghost-%COMP%]     .icon{margin-left:16px;color:rgba(0,0,0,.2);font-size:24px;vertical-align:middle;cursor:pointer;transition:color .3s}[_nghost-%COMP%]     .icon:hover{color:#1890ff}[_nghost-%COMP%]     .other{margin-top:24px;line-height:22px;text-align:left}[_nghost-%COMP%]     .other nz-tooltip{vertical-align:middle}[_nghost-%COMP%]     .other .register{float:right}[data-theme=dark]   [_nghost-%COMP%]     .icon{color:hsla(0,0%,100%,.2)}[data-theme=dark]   [_nghost-%COMP%]     .icon:hover{color:#fff}"]}),t})();var x=n("/XSn"),j=n("PFPK");function A(t,e){if(1&t&&(i.Xb(0,"div",4),i.Oc(1),i.jc(2,"translate"),i.Wb()),2&t){const t=i.ic();i.Db(1),i.Qc(" ",i.lc(2,1,"app.register-result.msg",t.params)," ")}}let V=(()=>{class t{constructor(t,e){this.msg=e,this.params={email:""},this.email="",this.params.email=this.email=t.snapshot.queryParams.email||"ng-alain@example.com"}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(s.a),i.Rb(S.e))},t.\u0275cmp=i.Lb({type:t,selectors:[["passport-register-result"]],decls:10,vars:11,consts:[["type","success",3,"title","description"],["title",""],["nz-button","","nzSize","large",3,"nzType","click"],["routerLink","/","nz-button","","nzSize","large"],[1,"title",2,"font-size","20px"]],template:function(t,e){if(1&t&&(i.Xb(0,"result",0),i.jc(1,"translate"),i.Mc(2,A,3,4,"ng-template",null,1,i.Nc),i.Xb(4,"button",2),i.ec("click",function(){return e.msg.success("email")}),i.Oc(5),i.jc(6,"translate"),i.Wb(),i.Xb(7,"button",3),i.Oc(8),i.jc(9,"translate"),i.Wb(),i.Wb()),2&t){const t=i.Ac(3);i.rc("description",i.kc(1,5,"app.register-result.activation-email")),i.qc("title",t),i.Db(4),i.qc("nzType","primary"),i.Db(1),i.Qc(" ",i.kc(6,7,"app.register-result.view-mailbox")," "),i.Db(3),i.Qc(" ",i.kc(9,9,"app.register-result.back-home")," ")}},directives:[j.a,g.a,h.a,m.a,s.m],pipes:[f.c],encapsulation:2}),t})();var N=n("+oEP"),R=n("W9fG"),_=n("zAKX");function E(t,e){if(1&t&&i.Sb(0,"nz-alert",23),2&t){const t=i.ic();i.qc("nzType","error")("nzMessage",t.error)("nzShowIcon",!0)}}function L(t,e){1&t&&(i.Vb(0),i.Oc(1),i.jc(2,"translate"),i.Ub()),2&t&&(i.Db(1),i.Pc(i.kc(2,1,"validation.email.required")))}function $(t,e){1&t&&(i.Vb(0),i.Oc(1),i.jc(2,"translate"),i.Ub()),2&t&&(i.Db(1),i.Pc(i.kc(2,1,"validation.email.wrong-format")))}function U(t,e){if(1&t&&(i.Mc(0,L,3,3,"ng-container",24),i.Mc(1,$,3,3,"ng-container",24)),2&t){const t=e.$implicit;i.qc("ngIf",null==t.errors?null:t.errors.required),i.Db(1),i.qc("ngIf",null==t.errors?null:t.errors.email)}}function B(t,e){1&t&&(i.Xb(0,"div",32),i.Oc(1),i.jc(2,"translate"),i.Wb()),2&t&&(i.Db(1),i.Pc(i.kc(2,1,"validation.password.strength.strong")))}function G(t,e){1&t&&(i.Xb(0,"div",33),i.Oc(1),i.jc(2,"translate"),i.Wb()),2&t&&(i.Db(1),i.Pc(i.kc(2,1,"validation.password.strength.medium")))}function Q(t,e){1&t&&(i.Xb(0,"div",34),i.Oc(1),i.jc(2,"translate"),i.Wb()),2&t&&(i.Db(1),i.Pc(i.kc(2,1,"validation.password.strength.short")))}function K(t,e){if(1&t&&(i.Xb(0,"div",25),i.Vb(1,26),i.Mc(2,B,3,3,"div",27),i.Mc(3,G,3,3,"div",28),i.Mc(4,Q,3,3,"div",29),i.Ub(),i.Xb(5,"div"),i.Sb(6,"nz-progress",30),i.Wb(),i.Xb(7,"p",31),i.Oc(8),i.jc(9,"translate"),i.Wb(),i.Wb()),2&t){const t=i.ic();i.Db(1),i.qc("ngSwitch",t.status),i.Db(1),i.qc("ngSwitchCase","ok"),i.Db(1),i.qc("ngSwitchCase","pass"),i.Db(2),i.Gb("progress-",t.status,""),i.Db(1),i.qc("nzPercent",t.progress)("nzStatus",t.passwordProgressMap[t.status])("nzStrokeWidth",6)("nzShowInfo",!1),i.Db(2),i.Pc(i.kc(9,11,"validation.password.strength.msg"))}}function Y(t,e){1&t&&(i.Vb(0),i.Oc(1),i.jc(2,"translate"),i.Ub()),2&t&&(i.Db(1),i.Pc(i.kc(2,1,"validation.confirm-password.required")))}function J(t,e){1&t&&(i.Vb(0),i.Oc(1),i.jc(2,"translate"),i.Ub()),2&t&&(i.Db(1),i.Pc(i.kc(2,1,"validation.password.twice")))}function F(t,e){if(1&t&&(i.Mc(0,Y,3,3,"ng-container",24),i.Mc(1,J,3,3,"ng-container",24)),2&t){const t=e.$implicit;i.qc("ngIf",null==t.errors?null:t.errors.required),i.Db(1),i.qc("ngIf",null==t.errors?null:t.errors.equar)}}function Z(t,e){1&t&&(i.Xb(0,"nz-select",35),i.Sb(1,"nz-option",36),i.Sb(2,"nz-option",36),i.Wb()),2&t&&(i.Db(1),i.qc("nzLabel","+86")("nzValue","+86"),i.Db(1),i.qc("nzLabel","+87")("nzValue","+87"))}function H(t,e){1&t&&(i.Vb(0),i.Oc(1),i.jc(2,"translate"),i.Ub()),2&t&&(i.Db(1),i.Pc(i.kc(2,1,"validation.phone-number.required")))}function tt(t,e){1&t&&(i.Vb(0),i.Oc(1),i.jc(2,"translate"),i.Ub()),2&t&&(i.Db(1),i.Pc(i.kc(2,1,"validation.phone-number.wrong-format")))}function et(t,e){if(1&t&&(i.Mc(0,H,3,3,"ng-container",24),i.Mc(1,tt,3,3,"ng-container",24)),2&t){const t=e.$implicit;i.qc("ngIf",null==t.errors?null:t.errors.required),i.Db(1),i.qc("ngIf",null==t.errors?null:t.errors.pattern)}}const nt=function(){return{"width.px":240}},rt=[{path:"passport",component:x.a,children:[{path:"login",component:T,data:{title:"\u767b\u5f55",titleI18n:"app.login.login"}},{path:"register",component:(()=>{class t{constructor(e,n,r,o){this.router=n,this.http=r,this.msg=o,this.error="",this.type=0,this.visible=!1,this.status="pool",this.progress=0,this.passwordProgressMap={ok:"success",pass:"normal",pool:"exception"},this.count=0,this.form=e.group({mail:[null,[l.v.required,l.v.email]],password:[null,[l.v.required,l.v.minLength(6),t.checkPassword.bind(this)]],confirm:[null,[l.v.required,l.v.minLength(6),t.passwordEquar]],mobilePrefix:["+86"],mobile:[null,[l.v.required,l.v.pattern(/^1\d{10}$/)]],captcha:[null,[l.v.required]]})}get mail(){return this.form.controls.mail}get password(){return this.form.controls.password}get confirm(){return this.form.controls.confirm}get mobile(){return this.form.controls.mobile}get captcha(){return this.form.controls.captcha}static checkPassword(t){if(!t)return null;const e=this;e.visible=!!t.value,e.status=t.value&&t.value.length>9?"ok":t.value&&t.value.length>5?"pass":"pool",e.visible&&(e.progress=10*t.value.length>100?100:10*t.value.length)}static passwordEquar(t){return t&&t.parent&&t.value!==t.parent.get("password").value?{equar:!0}:null}getCaptcha(){if(this.mobile.invalid)return this.mobile.markAsDirty({onlySelf:!0}),void this.mobile.updateValueAndValidity({onlySelf:!0});this.count=59,this.interval$=setInterval(()=>{this.count-=1,this.count<=0&&clearInterval(this.interval$)},1e3)}submit(){if(this.error="",Object.keys(this.form.controls).forEach(t=>{this.form.controls[t].markAsDirty(),this.form.controls[t].updateValueAndValidity()}),this.form.invalid)return;const t=this.form.value;this.http.post("/register?_allow_anonymous=true",t).subscribe(()=>{this.router.navigate(["passport","register-result"],{queryParams:{email:t.mail}})})}ngOnDestroy(){this.interval$&&clearInterval(this.interval$)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(l.f),i.Rb(s.l),i.Rb(a.q),i.Rb(S.e))},t.\u0275cmp=i.Lb({type:t,selectors:[["passport-register"]],decls:50,vars:34,consts:[["nz-form","","role","form",3,"formGroup","ngSubmit"],["class","mb-lg",3,"nzType","nzMessage","nzShowIcon",4,"ngIf"],[3,"nzErrorTip"],["nzSize","large","nzAddonBeforeIcon","user"],["nz-input","","formControlName","mail","placeholder","Email"],["mailErrorTip",""],["nzSize","large","nzAddonBeforeIcon","lock","nz-popover","","nzPopoverPlacement","right","nzPopoverTrigger","focus","nzPopoverOverlayClassName","register-password-cdk",3,"nzPopoverVisible","nzPopoverOverlayStyle","nzPopoverContent","nzPopoverVisibleChange"],["nz-input","","type","password","formControlName","password","placeholder","Password"],["pwdCdkTpl",""],["nzSize","large","nzAddonBeforeIcon","lock"],["nz-input","","type","password","formControlName","confirm","placeholder","Confirm Password"],["confirmErrorTip",""],["nzSize","large",3,"nzAddOnBefore"],["addOnBeforeTemplate",""],["formControlName","mobile","nz-input","","placeholder","Phone number"],["mobileErrorTip",""],[3,"nzGutter"],[3,"nzSpan"],["nzSize","large","nzAddonBeforeIcon","mail"],["nz-input","","formControlName","captcha","placeholder","Captcha"],["type","button","nz-button","","nzSize","large","nzBlock","",3,"disabled","nzLoading","click"],["nz-button","","nzType","primary","nzSize","large","type","submit",1,"submit",3,"nzLoading"],["routerLink","/passport/login",1,"login"],[1,"mb-lg",3,"nzType","nzMessage","nzShowIcon"],[4,"ngIf"],[2,"padding","4px 0"],[3,"ngSwitch"],["class","success",4,"ngSwitchCase"],["class","warning",4,"ngSwitchCase"],["class","error",4,"ngSwitchDefault"],[3,"nzPercent","nzStatus","nzStrokeWidth","nzShowInfo"],[1,"mt-sm"],[1,"success"],[1,"warning"],[1,"error"],["formControlName","mobilePrefix",2,"width","100px"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t&&(i.Xb(0,"h3"),i.Oc(1),i.jc(2,"translate"),i.Wb(),i.Xb(3,"form",0),i.ec("ngSubmit",function(){return e.submit()}),i.Mc(4,E,1,3,"nz-alert",1),i.Xb(5,"nz-form-item"),i.Xb(6,"nz-form-control",2),i.Xb(7,"nz-input-group",3),i.Sb(8,"input",4),i.Wb(),i.Mc(9,U,2,2,"ng-template",null,5,i.Nc),i.Wb(),i.Wb(),i.Xb(11,"nz-form-item"),i.Xb(12,"nz-form-control",2),i.jc(13,"translate"),i.Xb(14,"nz-input-group",6),i.ec("nzPopoverVisibleChange",function(t){return e.visible=t}),i.Sb(15,"input",7),i.Wb(),i.Mc(16,K,10,13,"ng-template",null,8,i.Nc),i.Wb(),i.Wb(),i.Xb(18,"nz-form-item"),i.Xb(19,"nz-form-control",2),i.Xb(20,"nz-input-group",9),i.Sb(21,"input",10),i.Wb(),i.Mc(22,F,2,2,"ng-template",null,11,i.Nc),i.Wb(),i.Wb(),i.Xb(24,"nz-form-item"),i.Xb(25,"nz-form-control",2),i.Xb(26,"nz-input-group",12),i.Mc(27,Z,3,4,"ng-template",null,13,i.Nc),i.Sb(29,"input",14),i.Wb(),i.Mc(30,et,2,2,"ng-template",null,15,i.Nc),i.Wb(),i.Wb(),i.Xb(32,"nz-form-item"),i.Xb(33,"nz-form-control",2),i.jc(34,"translate"),i.Xb(35,"nz-row",16),i.Xb(36,"nz-col",17),i.Xb(37,"nz-input-group",18),i.Sb(38,"input",19),i.Wb(),i.Wb(),i.Xb(39,"nz-col",17),i.Xb(40,"button",20),i.ec("click",function(){return e.getCaptcha()}),i.Oc(41),i.jc(42,"translate"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(43,"nz-form-item"),i.Xb(44,"button",21),i.Oc(45),i.jc(46,"translate"),i.Wb(),i.Xb(47,"a",22),i.Oc(48),i.jc(49,"translate"),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.Ac(10),n=i.Ac(17),r=i.Ac(23),o=i.Ac(28),a=i.Ac(31);i.Db(1),i.Pc(i.kc(2,21,"app.register.register")),i.Db(2),i.qc("formGroup",e.form),i.Db(1),i.qc("ngIf",e.error),i.Db(2),i.qc("nzErrorTip",t),i.Db(6),i.qc("nzErrorTip",i.kc(13,23,"validation.password.required")),i.Db(2),i.qc("nzPopoverVisible",e.visible)("nzPopoverOverlayStyle",i.tc(33,nt))("nzPopoverContent",n),i.Db(5),i.qc("nzErrorTip",r),i.Db(6),i.qc("nzErrorTip",a),i.Db(1),i.qc("nzAddOnBefore",o),i.Db(7),i.qc("nzErrorTip",i.kc(34,25,"validation.verification-code.required")),i.Db(2),i.qc("nzGutter",8),i.Db(1),i.qc("nzSpan",16),i.Db(3),i.qc("nzSpan",8),i.Db(1),i.qc("disabled",e.count>0)("nzLoading",e.http.loading),i.Db(1),i.Qc(" ",e.count?e.count+"s":i.kc(42,27,"app.register.get-verification-code")," "),i.Db(3),i.qc("nzLoading",e.http.loading),i.Db(1),i.Qc(" ",i.kc(46,29,"app.register.register")," "),i.Db(3),i.Pc(i.kc(49,31,"app.register.sign-in"))}},directives:[l.w,l.p,b.b,l.i,D.o,u.c,b.c,u.a,b.a,m.a,d.c,d.b,l.d,l.o,l.h,N.a,g.a,h.a,s.n,P.a,D.q,D.r,D.s,R.a,_.e,_.a],pipes:[f.c],styles:["[_nghost-%COMP%]{display:block;width:368px;margin:0 auto}[_nghost-%COMP%]     h3{margin-bottom:20px;font-size:16px}[_nghost-%COMP%]     .submit{width:50%}[_nghost-%COMP%]     .login{float:right;line-height:40px}  .register-password-cdk .error,   .register-password-cdk .success,   .register-password-cdk .warning{transition:color .3s}  .register-password-cdk .success{color:#52c41a}  .register-password-cdk .warning{color:#faad14}  .register-password-cdk .error{color:#ff4d4f}  .register-password-cdk .progress-pass>.progress .ant-progress-bg{background-color:#faad14}"]}),t})(),data:{title:"\u6ce8\u518c",titleI18n:"app.register.register"}},{path:"register-result",component:V,data:{title:"\u6ce8\u518c\u7ed3\u679c",titleI18n:"app.register.register"}},{path:"lock",component:z,data:{title:"\u9501\u5c4f",titleI18n:"app.lock"}}]},{path:"passport/callback/:type",component:c}];let ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Pb({type:t}),t.\u0275inj=i.Ob({imports:[[s.o.forChild(rt)],s.o]}),t})(),it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Pb({type:t}),t.\u0275inj=i.Ob({imports:[[r.b,ot]]}),t})()}}]);