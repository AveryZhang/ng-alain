(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{lYtU:function(t,n,e){"use strict";e.r(n),e.d(n,"PassportModule",function(){return it});var r=e("M0ag"),o=e("0bRG"),i=e("fXoL"),a=e("Ac7g"),s=e("tyNb");let c=(()=>{class t{constructor(t,n,e){this.socialService=t,this.settingsSrv=n,this.route=e,this.type=""}ngOnInit(){this.type=this.route.snapshot.params.type,this.mockModel()}mockModel(){const t={token:"123456789",name:"cipchk",email:`${this.type}@${this.type}.com`,id:1e4,time:+new Date};this.settingsSrv.setUser(Object.assign(Object.assign({},this.settingsSrv.user),t)),this.socialService.callback(t)}}return t.\u0275fac=function(n){return new(n||t)(i.Ob(o.d),i.Ob(a.n),i.Ob(s.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-callback"]],features:[i.zb([o.d])],decls:0,vars:0,template:function(t,n){},encapsulation:2}),t})();var l=e("3Pt+"),b=e("ZE2D"),p=e("ocnv"),u=e("B+r4"),g=e("C2AL"),h=e("PTRe"),m=e("OzZK"),d=e("RwU8"),f=e("sYmb");let z=(()=>{class t{constructor(t,n,e,r){this.tokenService=n,this.settings=e,this.router=r,this.f=t.group({password:[null,l.v.required]})}get user(){return this.settings.user}submit(){for(const t in this.f.controls)this.f.controls[t].markAsDirty(),this.f.controls[t].updateValueAndValidity();this.f.valid&&(console.log("Valid!"),console.log(this.f.value),this.tokenService.set({token:"123"}),this.router.navigate(["dashboard"]))}}return t.\u0275fac=function(n){return new(n||t)(i.Ob(l.f),i.Ob(o.a),i.Ob(a.n),i.Ob(s.l))},t.\u0275cmp=i.Ib({type:t,selectors:[["passport-lock"]],decls:15,vars:11,consts:[[1,"ant-card","width-lg",2,"margin","0 auto"],[1,"ant-card-body"],[1,"avatar"],["nzIcon","user","nzSize","large",3,"nzSrc"],["nz-form","","role","form",1,"mt-md",3,"formGroup","ngSubmit"],[3,"nzErrorTip"],["nzSuffixIcon","lock"],["type","password","nz-input","","formControlName","password"],["nzType","flex","nzAlign","middle"],[2,"text-align","right",3,"nzOffset","nzSpan"],["nz-button","","nzType","primary",3,"disabled"]],template:function(t,n){1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Pb(3,"nz-avatar",3),i.Tb(),i.Ub(4,"form",4),i.bc("ngSubmit",function(){return n.submit()}),i.Ub(5,"nz-form-item"),i.Ub(6,"nz-form-control",5),i.gc(7,"translate"),i.Ub(8,"nz-input-group",6),i.Pb(9,"input",7),i.Tb(),i.Tb(),i.Tb(),i.Ub(10,"nz-row",8),i.Ub(11,"nz-col",9),i.Ub(12,"button",10),i.Nc(13),i.gc(14,"translate"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Ab(3),i.nc("nzSrc",n.user.avatar),i.Ab(1),i.nc("formGroup",n.f),i.Ab(2),i.nc("nzErrorTip",i.hc(7,7,"validation.password.required")),i.Ab(5),i.nc("nzOffset",12)("nzSpan",12),i.Ab(1),i.nc("disabled",!n.f.valid),i.Ab(1),i.Oc(i.hc(14,9,"app.lock")))},directives:[b.a,l.w,l.p,p.b,l.i,u.c,p.c,u.a,p.a,g.a,h.c,h.b,l.d,l.o,l.h,m.a,d.a],pipes:[f.c],styles:["[_nghost-%COMP%]     .ant-card-body{position:relative;margin-top:80px}[_nghost-%COMP%]     .avatar{position:absolute;top:-20px;left:50%;margin-left:-20px}"]}),t})();var v=e("wdp9"),w=e("AytR"),T=e("ey9i"),y=e("PScX"),A=e("oyxB"),S=e("ofXK"),U=e("TaO5"),k=e("nJia"),P=e("FwiY"),O=e("Wfee");function C(t,n){if(1&t&&i.Pb(0,"nz-alert",27),2&t){const t=i.fc();i.nc("nzType","error")("nzMessage",t.error)("nzShowIcon",!0)}}function I(t,n){1&t&&(i.Sb(0),i.Nc(1),i.gc(2,"translate"),i.Rb()),2&t&&(i.Ab(1),i.Pc(" ",i.hc(2,1,"validation.phone-number.required")," "))}function N(t,n){1&t&&(i.Sb(0),i.Nc(1),i.gc(2,"translate"),i.Rb()),2&t&&(i.Ab(1),i.Pc(" ",i.hc(2,1,"validation.phone-number.wrong-format")," "))}function x(t,n){if(1&t&&(i.Lc(0,I,3,3,"ng-container",28),i.Lc(1,N,3,3,"ng-container",28)),2&t){const t=n.$implicit;i.nc("ngIf",t.errors.required),i.Ab(1),i.nc("ngIf",t.errors.pattern)}}let L=(()=>{class t{constructor(t,n,e,r,o,i,a,s,c){this.router=n,this.settingsService=e,this.socialService=r,this.reuseTabService=o,this.tokenService=i,this.startupSrv=a,this.http=s,this.msg=c,this.error="",this.type=0,this.count=0,this.form=t.group({userName:[null,[l.v.required,l.v.pattern(/^(admin|user)$/)]],password:[null,[l.v.required,l.v.pattern(/^(ng\-alain\.com)$/)]],mobile:[null,[l.v.required,l.v.pattern(/^1\d{10}$/)]],captcha:[null,[l.v.required]],remember:[!0]})}get userName(){return this.form.controls.userName}get password(){return this.form.controls.password}get mobile(){return this.form.controls.mobile}get captcha(){return this.form.controls.captcha}switch({index:t}){this.type=t}getCaptcha(){if(this.mobile.invalid)return this.mobile.markAsDirty({onlySelf:!0}),void this.mobile.updateValueAndValidity({onlySelf:!0});this.count=59,this.interval$=setInterval(()=>{this.count-=1,this.count<=0&&clearInterval(this.interval$)},1e3)}submit(){if(this.error="",0===this.type){if(this.userName.markAsDirty(),this.userName.updateValueAndValidity(),this.password.markAsDirty(),this.password.updateValueAndValidity(),this.userName.invalid||this.password.invalid)return}else if(this.mobile.markAsDirty(),this.mobile.updateValueAndValidity(),this.captcha.markAsDirty(),this.captcha.updateValueAndValidity(),this.mobile.invalid||this.captcha.invalid)return;this.http.post("/login/account?_allow_anonymous=true",{type:this.type,userName:this.userName.value,password:this.password.value}).subscribe(t=>{"ok"===t.msg?(this.reuseTabService.clear(),t.user.expired=+new Date+3e5,this.tokenService.set(t.user),this.startupSrv.load().then(()=>{let t=this.tokenService.referrer.url||"/";t.includes("/passport")&&(t="/"),this.router.navigateByUrl(t)})):this.error=t.msg})}open(t,n="href"){let e="",r="";switch(r=w.a.production?"https://ng-alain.github.io/ng-alain/#/passport/callback/"+t:"http://localhost:4200/#/passport/callback/"+t,t){case"auth0":e="//cipchk.auth0.com/login?client=8gcNydIDzGBYxzqV0Vm1CX_RXH-wsWo5&redirect_uri="+decodeURIComponent(r);break;case"github":e="//github.com/login/oauth/authorize?client_id=9d6baae4b04a23fcafa2&response_type=code&redirect_uri="+decodeURIComponent(r);break;case"weibo":e="https://api.weibo.com/oauth2/authorize?client_id=1239507802&response_type=code&redirect_uri="+decodeURIComponent(r)}"window"===n?this.socialService.login(e,"/",{type:"window"}).subscribe(t=>{t&&(this.settingsService.setUser(t),this.router.navigateByUrl("/"))}):this.socialService.login(e,"/",{type:"href"})}ngOnDestroy(){this.interval$&&clearInterval(this.interval$)}}return t.\u0275fac=function(n){return new(n||t)(i.Ob(l.f),i.Ob(s.l),i.Ob(a.n),i.Ob(o.d),i.Ob(v.a,8),i.Ob(o.a),i.Ob(T.c),i.Ob(a.s),i.Ob(y.e))},t.\u0275cmp=i.Ib({type:t,selectors:[["passport-login"]],features:[i.zb([o.d])],decls:54,vars:39,consts:[["nz-form","","role","form",3,"formGroup","ngSubmit"],[1,"tabs",3,"nzAnimated","nzSelectChange"],[3,"nzTitle"],["class","mb-lg",3,"nzType","nzMessage","nzShowIcon",4,"ngIf"],["nzErrorTip","Please enter mobile number, muse be: admin or user"],["nzSize","large","nzPrefixIcon","user"],["nz-input","","formControlName","userName","placeholder","username: admin or user"],["nzErrorTip","Please enter password, muse be: ng-alain.com"],["nzSize","large","nzPrefixIcon","lock"],["nz-input","","type","password","formControlName","password","placeholder","password: ng-alain.com"],[3,"nzErrorTip"],["nz-input","","formControlName","mobile","placeholder","mobile number"],["mobileErrorTip",""],[3,"nzGutter"],[3,"nzSpan"],["nzSize","large","nzPrefixIcon","mail"],["nz-input","","formControlName","captcha","placeholder","captcha"],["type","button","nz-button","","nzSize","large","nzBlock","",3,"disabled","nzLoading","click"],["nz-checkbox","","formControlName","remember"],[1,"text-right",3,"nzSpan"],[1,"forgot",3,"click"],["nz-button","","type","submit","nzType","primary","nzSize","large","nzBlock","",3,"nzLoading"],[1,"other"],["nz-tooltip","","nzTooltipTitle","in fact Auth0 via window","nz-icon","","nzType","alipay-circle",1,"icon",3,"click"],["nz-tooltip","","nzTooltipTitle","in fact Github via redirect","nz-icon","","nzType","taobao-circle",1,"icon",3,"click"],["nz-icon","","nzType","weibo-circle",1,"icon",3,"click"],["routerLink","/passport/register",1,"register"],[1,"mb-lg",3,"nzType","nzMessage","nzShowIcon"],[4,"ngIf"]],template:function(t,n){if(1&t&&(i.Ub(0,"form",0),i.bc("ngSubmit",function(){return n.submit()}),i.Ub(1,"nz-tabset",1),i.bc("nzSelectChange",function(t){return n.switch(t)}),i.Ub(2,"nz-tab",2),i.gc(3,"translate"),i.Lc(4,C,1,3,"nz-alert",3),i.Ub(5,"nz-form-item"),i.Ub(6,"nz-form-control",4),i.Ub(7,"nz-input-group",5),i.Pb(8,"input",6),i.Tb(),i.Tb(),i.Tb(),i.Ub(9,"nz-form-item"),i.Ub(10,"nz-form-control",7),i.Ub(11,"nz-input-group",8),i.Pb(12,"input",9),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(13,"nz-tab",2),i.gc(14,"translate"),i.Ub(15,"nz-form-item"),i.Ub(16,"nz-form-control",10),i.Ub(17,"nz-input-group",5),i.Pb(18,"input",11),i.Tb(),i.Lc(19,x,2,2,"ng-template",null,12,i.Mc),i.Tb(),i.Tb(),i.Ub(21,"nz-form-item"),i.Ub(22,"nz-form-control",10),i.gc(23,"translate"),i.Ub(24,"nz-row",13),i.Ub(25,"nz-col",14),i.Ub(26,"nz-input-group",15),i.Pb(27,"input",16),i.Tb(),i.Tb(),i.Ub(28,"nz-col",14),i.Ub(29,"button",17),i.bc("click",function(){return n.getCaptcha()}),i.Nc(30),i.gc(31,"translate"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(32,"nz-form-item"),i.Ub(33,"nz-col",14),i.Ub(34,"label",18),i.Nc(35),i.gc(36,"translate"),i.Tb(),i.Tb(),i.Ub(37,"nz-col",19),i.Ub(38,"a",20),i.bc("click",function(){return n.msg.error("\u8bf7\u627e\u6b27\u9633\u950b")}),i.Nc(39),i.gc(40,"translate"),i.Tb(),i.Tb(),i.Tb(),i.Ub(41,"nz-form-item"),i.Ub(42,"button",21),i.Nc(43),i.gc(44,"translate"),i.Tb(),i.Tb(),i.Tb(),i.Ub(45,"div",22),i.Nc(46),i.gc(47,"translate"),i.Ub(48,"i",23),i.bc("click",function(){return n.open("auth0","window")}),i.Tb(),i.Ub(49,"i",24),i.bc("click",function(){return n.open("github")}),i.Tb(),i.Ub(50,"i",25),i.bc("click",function(){return n.open("weibo","window")}),i.Tb(),i.Ub(51,"a",26),i.Nc(52),i.gc(53,"translate"),i.Tb(),i.Tb()),2&t){const t=i.xc(20);i.nc("formGroup",n.form),i.Ab(1),i.nc("nzAnimated",!1),i.Ab(1),i.nc("nzTitle",i.hc(3,21,"app.login.tab-login-credentials")),i.Ab(2),i.nc("ngIf",n.error),i.Ab(9),i.nc("nzTitle",i.hc(14,23,"app.login.tab-login-mobile")),i.Ab(3),i.nc("nzErrorTip",t),i.Ab(6),i.nc("nzErrorTip",i.hc(23,25,"validation.verification-code.required")),i.Ab(2),i.nc("nzGutter",8),i.Ab(1),i.nc("nzSpan",16),i.Ab(3),i.nc("nzSpan",8),i.Ab(1),i.nc("disabled",n.count>=0)("nzLoading",n.http.loading),i.Ab(1),i.Pc(" ",n.count?n.count+"s":i.hc(31,27,"app.register.get-verification-code")," "),i.Ab(3),i.nc("nzSpan",12),i.Ab(2),i.Oc(i.hc(36,29,"app.login.remember-me")),i.Ab(2),i.nc("nzSpan",12),i.Ab(2),i.Oc(i.hc(40,31,"app.login.forgot-password")),i.Ab(3),i.nc("nzLoading",n.http.loading),i.Ab(1),i.Pc(" ",i.hc(44,33,"app.login.login")," "),i.Ab(3),i.Pc(" ",i.hc(47,35,"app.login.sign-in-with")," "),i.Ab(6),i.Oc(i.hc(53,37,"app.login.signup"))}},directives:[l.w,l.p,p.b,l.i,A.b,A.a,S.o,u.c,p.c,u.a,p.a,g.a,h.c,h.b,l.d,l.o,l.h,m.a,d.a,U.a,k.d,P.a,s.n,O.a],pipes:[f.c],styles:["[_nghost-%COMP%]{display:block;width:368px;margin:0 auto}[_nghost-%COMP%]     .ant-tabs .ant-tabs-bar{margin-bottom:24px;text-align:center;border-bottom:0}[_nghost-%COMP%]     .ant-tabs-tab{font-size:16px;line-height:24px}[_nghost-%COMP%]     .ant-input-affix-wrapper .ant-input:not(:first-child){padding-left:4px}[_nghost-%COMP%]     .icon{margin-left:16px;color:rgba(0,0,0,.2);font-size:24px;vertical-align:middle;cursor:pointer;transition:color .3s}[_nghost-%COMP%]     .icon:hover{color:#1890ff}[_nghost-%COMP%]     .other{margin-top:24px;line-height:22px;text-align:left}[_nghost-%COMP%]     .other nz-tooltip{vertical-align:middle}[_nghost-%COMP%]     .other .register{float:right}[data-theme=dark]   [_nghost-%COMP%]     .icon{color:hsla(0,0%,100%,.2)}[data-theme=dark]   [_nghost-%COMP%]     .icon:hover{color:#fff}"]}),t})();var M=e("/XSn"),q=e("PFPK");function _(t,n){if(1&t&&(i.Ub(0,"div",4),i.Nc(1),i.gc(2,"translate"),i.Tb()),2&t){const t=i.fc();i.Ab(1),i.Pc(" ",i.ic(2,1,"app.register-result.msg",t.params)," ")}}let V=(()=>{class t{constructor(t,n){this.msg=n,this.params={email:""},this.email="",this.params.email=this.email=t.snapshot.queryParams.email||"ng-alain@example.com"}}return t.\u0275fac=function(n){return new(n||t)(i.Ob(s.a),i.Ob(y.e))},t.\u0275cmp=i.Ib({type:t,selectors:[["passport-register-result"]],decls:10,vars:11,consts:[["type","success",3,"title","description"],["title",""],["nz-button","","nzSize","large",3,"nzType","click"],["routerLink","/","nz-button","","nzSize","large"],[1,"title",2,"font-size","20px"]],template:function(t,n){if(1&t&&(i.Ub(0,"result",0),i.gc(1,"translate"),i.Lc(2,_,3,4,"ng-template",null,1,i.Mc),i.Ub(4,"button",2),i.bc("click",function(){return n.msg.success("email")}),i.Nc(5),i.gc(6,"translate"),i.Tb(),i.Ub(7,"button",3),i.Nc(8),i.gc(9,"translate"),i.Tb(),i.Tb()),2&t){const t=i.xc(3);i.oc("description",i.hc(1,5,"app.register-result.activation-email")),i.nc("title",t),i.Ab(4),i.nc("nzType","primary"),i.Ab(1),i.Pc(" ",i.hc(6,7,"app.register-result.view-mailbox")," "),i.Ab(3),i.Pc(" ",i.hc(9,9,"app.register-result.back-home")," ")}},directives:[q.a,m.a,d.a,g.a,s.m],pipes:[f.c],encapsulation:2}),t})();var E=e("+oEP"),$=e("W9fG"),R=e("zAKX");function D(t,n){if(1&t&&i.Pb(0,"nz-alert",23),2&t){const t=i.fc();i.nc("nzType","error")("nzMessage",t.error)("nzShowIcon",!0)}}function B(t,n){1&t&&(i.Sb(0),i.Nc(1),i.gc(2,"translate"),i.Rb()),2&t&&(i.Ab(1),i.Oc(i.hc(2,1,"validation.email.required")))}function G(t,n){1&t&&(i.Sb(0),i.Nc(1),i.gc(2,"translate"),i.Rb()),2&t&&(i.Ab(1),i.Oc(i.hc(2,1,"validation.email.wrong-format")))}function X(t,n){if(1&t&&(i.Lc(0,B,3,3,"ng-container",24),i.Lc(1,G,3,3,"ng-container",24)),2&t){const t=n.$implicit;i.nc("ngIf",null==t.errors?null:t.errors.required),i.Ab(1),i.nc("ngIf",null==t.errors?null:t.errors.email)}}function j(t,n){1&t&&(i.Ub(0,"div",32),i.Nc(1),i.gc(2,"translate"),i.Tb()),2&t&&(i.Ab(1),i.Oc(i.hc(2,1,"validation.password.strength.strong")))}function W(t,n){1&t&&(i.Ub(0,"div",33),i.Nc(1),i.gc(2,"translate"),i.Tb()),2&t&&(i.Ab(1),i.Oc(i.hc(2,1,"validation.password.strength.medium")))}function K(t,n){1&t&&(i.Ub(0,"div",34),i.Nc(1),i.gc(2,"translate"),i.Tb()),2&t&&(i.Ab(1),i.Oc(i.hc(2,1,"validation.password.strength.short")))}function Y(t,n){if(1&t&&(i.Ub(0,"div",25),i.Sb(1,26),i.Lc(2,j,3,3,"div",27),i.Lc(3,W,3,3,"div",28),i.Lc(4,K,3,3,"div",29),i.Rb(),i.Ub(5,"div"),i.Pb(6,"nz-progress",30),i.Tb(),i.Ub(7,"p",31),i.Nc(8),i.gc(9,"translate"),i.Tb(),i.Tb()),2&t){const t=i.fc();i.Ab(1),i.nc("ngSwitch",t.status),i.Ab(1),i.nc("ngSwitchCase","ok"),i.Ab(1),i.nc("ngSwitchCase","pass"),i.Ab(2),i.Db("progress-",t.status,""),i.Ab(1),i.nc("nzPercent",t.progress)("nzStatus",t.passwordProgressMap[t.status])("nzStrokeWidth",6)("nzShowInfo",!1),i.Ab(2),i.Oc(i.hc(9,11,"validation.password.strength.msg"))}}function J(t,n){1&t&&(i.Sb(0),i.Nc(1),i.gc(2,"translate"),i.Rb()),2&t&&(i.Ab(1),i.Oc(i.hc(2,1,"validation.confirm-password.required")))}function F(t,n){1&t&&(i.Sb(0),i.Nc(1),i.gc(2,"translate"),i.Rb()),2&t&&(i.Ab(1),i.Oc(i.hc(2,1,"validation.password.twice")))}function Z(t,n){if(1&t&&(i.Lc(0,J,3,3,"ng-container",24),i.Lc(1,F,3,3,"ng-container",24)),2&t){const t=n.$implicit;i.nc("ngIf",null==t.errors?null:t.errors.required),i.Ab(1),i.nc("ngIf",null==t.errors?null:t.errors.equar)}}function H(t,n){1&t&&(i.Ub(0,"nz-select",35),i.Pb(1,"nz-option",36),i.Pb(2,"nz-option",36),i.Tb()),2&t&&(i.Ab(1),i.nc("nzLabel","+86")("nzValue","+86"),i.Ab(1),i.nc("nzLabel","+87")("nzValue","+87"))}function Q(t,n){1&t&&(i.Sb(0),i.Nc(1),i.gc(2,"translate"),i.Rb()),2&t&&(i.Ab(1),i.Oc(i.hc(2,1,"validation.phone-number.required")))}function tt(t,n){1&t&&(i.Sb(0),i.Nc(1),i.gc(2,"translate"),i.Rb()),2&t&&(i.Ab(1),i.Oc(i.hc(2,1,"validation.phone-number.wrong-format")))}function nt(t,n){if(1&t&&(i.Lc(0,Q,3,3,"ng-container",24),i.Lc(1,tt,3,3,"ng-container",24)),2&t){const t=n.$implicit;i.nc("ngIf",null==t.errors?null:t.errors.required),i.Ab(1),i.nc("ngIf",null==t.errors?null:t.errors.pattern)}}const et=function(){return{"width.px":240}},rt=[{path:"passport",component:M.a,children:[{path:"login",component:L,data:{title:"\u767b\u5f55",titleI18n:"app.login.login"}},{path:"register",component:(()=>{class t{constructor(n,e,r,o){this.router=e,this.http=r,this.msg=o,this.error="",this.type=0,this.visible=!1,this.status="pool",this.progress=0,this.passwordProgressMap={ok:"success",pass:"normal",pool:"exception"},this.count=0,this.form=n.group({mail:[null,[l.v.required,l.v.email]],password:[null,[l.v.required,l.v.minLength(6),t.checkPassword.bind(this)]],confirm:[null,[l.v.required,l.v.minLength(6),t.passwordEquar]],mobilePrefix:["+86"],mobile:[null,[l.v.required,l.v.pattern(/^1\d{10}$/)]],captcha:[null,[l.v.required]]})}get mail(){return this.form.controls.mail}get password(){return this.form.controls.password}get confirm(){return this.form.controls.confirm}get mobile(){return this.form.controls.mobile}get captcha(){return this.form.controls.captcha}static checkPassword(t){if(!t)return null;const n=this;n.visible=!!t.value,n.status=t.value&&t.value.length>9?"ok":t.value&&t.value.length>5?"pass":"pool",n.visible&&(n.progress=10*t.value.length>100?100:10*t.value.length)}static passwordEquar(t){return t&&t.parent&&t.value!==t.parent.get("password").value?{equar:!0}:null}getCaptcha(){if(this.mobile.invalid)return this.mobile.markAsDirty({onlySelf:!0}),void this.mobile.updateValueAndValidity({onlySelf:!0});this.count=59,this.interval$=setInterval(()=>{this.count-=1,this.count<=0&&clearInterval(this.interval$)},1e3)}submit(){if(this.error="",Object.keys(this.form.controls).forEach(t=>{this.form.controls[t].markAsDirty(),this.form.controls[t].updateValueAndValidity()}),this.form.invalid)return;const t=this.form.value;this.http.post("/register?_allow_anonymous=true",t).subscribe(()=>{this.router.navigate(["passport","register-result"],{queryParams:{email:t.mail}})})}ngOnDestroy(){this.interval$&&clearInterval(this.interval$)}}return t.\u0275fac=function(n){return new(n||t)(i.Ob(l.f),i.Ob(s.l),i.Ob(a.s),i.Ob(y.e))},t.\u0275cmp=i.Ib({type:t,selectors:[["passport-register"]],decls:50,vars:34,consts:[["nz-form","","role","form",3,"formGroup","ngSubmit"],["class","mb-lg",3,"nzType","nzMessage","nzShowIcon",4,"ngIf"],[3,"nzErrorTip"],["nzSize","large","nzAddonBeforeIcon","user"],["nz-input","","formControlName","mail","placeholder","Email"],["mailErrorTip",""],["nzSize","large","nzAddonBeforeIcon","lock","nz-popover","","nzPopoverPlacement","right","nzPopoverTrigger","focus","nzPopoverOverlayClassName","register-password-cdk",3,"nzPopoverVisible","nzPopoverOverlayStyle","nzPopoverContent","nzPopoverVisibleChange"],["nz-input","","type","password","formControlName","password","placeholder","Password"],["pwdCdkTpl",""],["nzSize","large","nzAddonBeforeIcon","lock"],["nz-input","","type","password","formControlName","confirm","placeholder","Confirm Password"],["confirmErrorTip",""],["nzSize","large",3,"nzAddOnBefore"],["addOnBeforeTemplate",""],["formControlName","mobile","nz-input","","placeholder","Phone number"],["mobileErrorTip",""],[3,"nzGutter"],[3,"nzSpan"],["nzSize","large","nzAddonBeforeIcon","mail"],["nz-input","","formControlName","captcha","placeholder","Captcha"],["type","button","nz-button","","nzSize","large","nzBlock","",3,"disabled","nzLoading","click"],["nz-button","","nzType","primary","nzSize","large","type","submit",1,"submit",3,"nzLoading"],["routerLink","/passport/login",1,"login"],[1,"mb-lg",3,"nzType","nzMessage","nzShowIcon"],[4,"ngIf"],[2,"padding","4px 0"],[3,"ngSwitch"],["class","success",4,"ngSwitchCase"],["class","warning",4,"ngSwitchCase"],["class","error",4,"ngSwitchDefault"],[3,"nzPercent","nzStatus","nzStrokeWidth","nzShowInfo"],[1,"mt-sm"],[1,"success"],[1,"warning"],[1,"error"],["formControlName","mobilePrefix",2,"width","100px"],[3,"nzLabel","nzValue"]],template:function(t,n){if(1&t&&(i.Ub(0,"h3"),i.Nc(1),i.gc(2,"translate"),i.Tb(),i.Ub(3,"form",0),i.bc("ngSubmit",function(){return n.submit()}),i.Lc(4,D,1,3,"nz-alert",1),i.Ub(5,"nz-form-item"),i.Ub(6,"nz-form-control",2),i.Ub(7,"nz-input-group",3),i.Pb(8,"input",4),i.Tb(),i.Lc(9,X,2,2,"ng-template",null,5,i.Mc),i.Tb(),i.Tb(),i.Ub(11,"nz-form-item"),i.Ub(12,"nz-form-control",2),i.gc(13,"translate"),i.Ub(14,"nz-input-group",6),i.bc("nzPopoverVisibleChange",function(t){return n.visible=t}),i.Pb(15,"input",7),i.Tb(),i.Lc(16,Y,10,13,"ng-template",null,8,i.Mc),i.Tb(),i.Tb(),i.Ub(18,"nz-form-item"),i.Ub(19,"nz-form-control",2),i.Ub(20,"nz-input-group",9),i.Pb(21,"input",10),i.Tb(),i.Lc(22,Z,2,2,"ng-template",null,11,i.Mc),i.Tb(),i.Tb(),i.Ub(24,"nz-form-item"),i.Ub(25,"nz-form-control",2),i.Ub(26,"nz-input-group",12),i.Lc(27,H,3,4,"ng-template",null,13,i.Mc),i.Pb(29,"input",14),i.Tb(),i.Lc(30,nt,2,2,"ng-template",null,15,i.Mc),i.Tb(),i.Tb(),i.Ub(32,"nz-form-item"),i.Ub(33,"nz-form-control",2),i.gc(34,"translate"),i.Ub(35,"nz-row",16),i.Ub(36,"nz-col",17),i.Ub(37,"nz-input-group",18),i.Pb(38,"input",19),i.Tb(),i.Tb(),i.Ub(39,"nz-col",17),i.Ub(40,"button",20),i.bc("click",function(){return n.getCaptcha()}),i.Nc(41),i.gc(42,"translate"),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(43,"nz-form-item"),i.Ub(44,"button",21),i.Nc(45),i.gc(46,"translate"),i.Tb(),i.Ub(47,"a",22),i.Nc(48),i.gc(49,"translate"),i.Tb(),i.Tb(),i.Tb()),2&t){const t=i.xc(10),e=i.xc(17),r=i.xc(23),o=i.xc(28),a=i.xc(31);i.Ab(1),i.Oc(i.hc(2,21,"app.register.register")),i.Ab(2),i.nc("formGroup",n.form),i.Ab(1),i.nc("ngIf",n.error),i.Ab(2),i.nc("nzErrorTip",t),i.Ab(6),i.nc("nzErrorTip",i.hc(13,23,"validation.password.required")),i.Ab(2),i.nc("nzPopoverVisible",n.visible)("nzPopoverOverlayStyle",i.qc(33,et))("nzPopoverContent",e),i.Ab(5),i.nc("nzErrorTip",r),i.Ab(6),i.nc("nzErrorTip",a),i.Ab(1),i.nc("nzAddOnBefore",o),i.Ab(7),i.nc("nzErrorTip",i.hc(34,25,"validation.verification-code.required")),i.Ab(2),i.nc("nzGutter",8),i.Ab(1),i.nc("nzSpan",16),i.Ab(3),i.nc("nzSpan",8),i.Ab(1),i.nc("disabled",n.count>0)("nzLoading",n.http.loading),i.Ab(1),i.Pc(" ",n.count?n.count+"s":i.hc(42,27,"app.register.get-verification-code")," "),i.Ab(3),i.nc("nzLoading",n.http.loading),i.Ab(1),i.Pc(" ",i.hc(46,29,"app.register.register")," "),i.Ab(3),i.Oc(i.hc(49,31,"app.register.sign-in"))}},directives:[l.w,l.p,p.b,l.i,S.o,u.c,p.c,u.a,p.a,g.a,h.c,h.b,l.d,l.o,l.h,E.a,m.a,d.a,s.n,O.a,S.q,S.r,S.s,$.a,R.e,R.a],pipes:[f.c],styles:["[_nghost-%COMP%]{display:block;width:368px;margin:0 auto}[_nghost-%COMP%]     h3{margin-bottom:20px;font-size:16px}[_nghost-%COMP%]     .submit{width:50%}[_nghost-%COMP%]     .login{float:right;line-height:40px}  .register-password-cdk .error,   .register-password-cdk .success,   .register-password-cdk .warning{transition:color .3s}  .register-password-cdk .success{color:#52c41a}  .register-password-cdk .warning{color:#faad14}  .register-password-cdk .error{color:#ff4d4f}  .register-password-cdk .progress-pass>.progress .ant-progress-bg{background-color:#faad14}"]}),t})(),data:{title:"\u6ce8\u518c",titleI18n:"app.register.register"}},{path:"register-result",component:V,data:{title:"\u6ce8\u518c\u7ed3\u679c",titleI18n:"app.register.register"}},{path:"lock",component:z,data:{title:"\u9501\u5c4f",titleI18n:"app.lock"}}]},{path:"passport/callback/:type",component:c}];let ot=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(n){return new(n||t)},imports:[[s.o.forChild(rt)],s.o]}),t})(),it=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(n){return new(n||t)},imports:[[r.b,ot]]}),t})()}}]);